<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>You (Might) Don&#39;t Need jQuery | Yolanda</title>
    <meta name="description" content="æ¯å¤©å­¦ä¹ ä¸€ç‚¹ç‚¹">
    <link rel="icon" href="/Notebook/images/mylogo.jpg">
    
    <link rel="preload" href="/Notebook/assets/css/0.styles.4f932b82.css" as="style"><link rel="preload" href="/Notebook/assets/js/app.fae3116e.js" as="script"><link rel="preload" href="/Notebook/assets/js/3.8a90166b.js" as="script"><link rel="preload" href="/Notebook/assets/js/67.3caaf58d.js" as="script"><link rel="prefetch" href="/Notebook/assets/js/10.7c0500f6.js"><link rel="prefetch" href="/Notebook/assets/js/11.96ce6645.js"><link rel="prefetch" href="/Notebook/assets/js/12.295d52cd.js"><link rel="prefetch" href="/Notebook/assets/js/13.6db71019.js"><link rel="prefetch" href="/Notebook/assets/js/14.0c1400d8.js"><link rel="prefetch" href="/Notebook/assets/js/15.edab26a3.js"><link rel="prefetch" href="/Notebook/assets/js/16.88fd161d.js"><link rel="prefetch" href="/Notebook/assets/js/17.408350d5.js"><link rel="prefetch" href="/Notebook/assets/js/18.6ab68d1c.js"><link rel="prefetch" href="/Notebook/assets/js/19.9e9ef1da.js"><link rel="prefetch" href="/Notebook/assets/js/2.e3a9cac0.js"><link rel="prefetch" href="/Notebook/assets/js/20.56c42c66.js"><link rel="prefetch" href="/Notebook/assets/js/21.8d087c07.js"><link rel="prefetch" href="/Notebook/assets/js/22.cf2b0a03.js"><link rel="prefetch" href="/Notebook/assets/js/23.7413880a.js"><link rel="prefetch" href="/Notebook/assets/js/24.28bab990.js"><link rel="prefetch" href="/Notebook/assets/js/25.75c60686.js"><link rel="prefetch" href="/Notebook/assets/js/26.ef1edf61.js"><link rel="prefetch" href="/Notebook/assets/js/27.5aeea7cc.js"><link rel="prefetch" href="/Notebook/assets/js/28.8476b7e4.js"><link rel="prefetch" href="/Notebook/assets/js/29.956345a3.js"><link rel="prefetch" href="/Notebook/assets/js/30.b96e226e.js"><link rel="prefetch" href="/Notebook/assets/js/31.04440a69.js"><link rel="prefetch" href="/Notebook/assets/js/32.273112ca.js"><link rel="prefetch" href="/Notebook/assets/js/33.e709b2b3.js"><link rel="prefetch" href="/Notebook/assets/js/34.dc2136ae.js"><link rel="prefetch" href="/Notebook/assets/js/35.30ab0118.js"><link rel="prefetch" href="/Notebook/assets/js/36.cb41bc4a.js"><link rel="prefetch" href="/Notebook/assets/js/37.dd26a76e.js"><link rel="prefetch" href="/Notebook/assets/js/38.68398169.js"><link rel="prefetch" href="/Notebook/assets/js/39.93b8990e.js"><link rel="prefetch" href="/Notebook/assets/js/4.5f27db7e.js"><link rel="prefetch" href="/Notebook/assets/js/40.ed267aa9.js"><link rel="prefetch" href="/Notebook/assets/js/41.985eec03.js"><link rel="prefetch" href="/Notebook/assets/js/42.260a858d.js"><link rel="prefetch" href="/Notebook/assets/js/43.6cb97df7.js"><link rel="prefetch" href="/Notebook/assets/js/44.869ede03.js"><link rel="prefetch" href="/Notebook/assets/js/45.bf3e5a26.js"><link rel="prefetch" href="/Notebook/assets/js/46.a54b425c.js"><link rel="prefetch" href="/Notebook/assets/js/47.8ebe066b.js"><link rel="prefetch" href="/Notebook/assets/js/48.416ad307.js"><link rel="prefetch" href="/Notebook/assets/js/49.7394cd78.js"><link rel="prefetch" href="/Notebook/assets/js/5.01244a1f.js"><link rel="prefetch" href="/Notebook/assets/js/50.4675f4c4.js"><link rel="prefetch" href="/Notebook/assets/js/51.a112471f.js"><link rel="prefetch" href="/Notebook/assets/js/52.a6195fbf.js"><link rel="prefetch" href="/Notebook/assets/js/53.15f5f0a8.js"><link rel="prefetch" href="/Notebook/assets/js/54.bbc6eb3c.js"><link rel="prefetch" href="/Notebook/assets/js/55.ba5d1f28.js"><link rel="prefetch" href="/Notebook/assets/js/56.2d5a7c0d.js"><link rel="prefetch" href="/Notebook/assets/js/57.b6f47637.js"><link rel="prefetch" href="/Notebook/assets/js/58.3ce0f8ce.js"><link rel="prefetch" href="/Notebook/assets/js/59.66784ebf.js"><link rel="prefetch" href="/Notebook/assets/js/6.4d03de1b.js"><link rel="prefetch" href="/Notebook/assets/js/60.2c355106.js"><link rel="prefetch" href="/Notebook/assets/js/61.1fb23164.js"><link rel="prefetch" href="/Notebook/assets/js/62.5ee4cd1c.js"><link rel="prefetch" href="/Notebook/assets/js/63.08a71f63.js"><link rel="prefetch" href="/Notebook/assets/js/64.e7464a6a.js"><link rel="prefetch" href="/Notebook/assets/js/65.de9108af.js"><link rel="prefetch" href="/Notebook/assets/js/66.83e75f1b.js"><link rel="prefetch" href="/Notebook/assets/js/68.2dd69095.js"><link rel="prefetch" href="/Notebook/assets/js/69.927efe78.js"><link rel="prefetch" href="/Notebook/assets/js/7.a97cfeeb.js"><link rel="prefetch" href="/Notebook/assets/js/70.92fd8264.js"><link rel="prefetch" href="/Notebook/assets/js/71.0ef73e07.js"><link rel="prefetch" href="/Notebook/assets/js/72.7e0a2fee.js"><link rel="prefetch" href="/Notebook/assets/js/73.816bc4b8.js"><link rel="prefetch" href="/Notebook/assets/js/74.e1c44e90.js"><link rel="prefetch" href="/Notebook/assets/js/75.52d5991e.js"><link rel="prefetch" href="/Notebook/assets/js/76.3ab263b9.js"><link rel="prefetch" href="/Notebook/assets/js/77.76e6e752.js"><link rel="prefetch" href="/Notebook/assets/js/78.e2711be8.js"><link rel="prefetch" href="/Notebook/assets/js/79.ecf0c259.js"><link rel="prefetch" href="/Notebook/assets/js/8.698b291a.js"><link rel="prefetch" href="/Notebook/assets/js/80.6defbc57.js"><link rel="prefetch" href="/Notebook/assets/js/81.650b6435.js"><link rel="prefetch" href="/Notebook/assets/js/82.f41e2c82.js"><link rel="prefetch" href="/Notebook/assets/js/83.62a3d0ce.js"><link rel="prefetch" href="/Notebook/assets/js/84.f2e0ba7a.js"><link rel="prefetch" href="/Notebook/assets/js/85.7d5af1cd.js"><link rel="prefetch" href="/Notebook/assets/js/86.883b02f7.js"><link rel="prefetch" href="/Notebook/assets/js/87.dc5913fb.js"><link rel="prefetch" href="/Notebook/assets/js/88.369e5f01.js"><link rel="prefetch" href="/Notebook/assets/js/89.fd496723.js"><link rel="prefetch" href="/Notebook/assets/js/9.220abfab.js"><link rel="prefetch" href="/Notebook/assets/js/90.1d16c82f.js"><link rel="prefetch" href="/Notebook/assets/js/91.6bcdcb57.js"><link rel="prefetch" href="/Notebook/assets/js/92.3f6beaea.js"><link rel="prefetch" href="/Notebook/assets/js/93.d98ca184.js">
    <link rel="stylesheet" href="/Notebook/assets/css/0.styles.4f932b82.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Notebook/" class="home-link router-link-active"><!----> <span class="site-name">Yolanda</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link">ğŸ“æ—¥å¸¸è®°å½•</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å¼€å‘è€…</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link router-link-active">ğŸ’»å¤§å‰ç«¯</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">ğŸ¤”å¤ç›˜</a></li><li class="dropdown-item"><h4>ï¸ï¸ğŸ§˜ç®—æ³•ä¿®ç‚¼</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/algorithm/computerBasics.html" class="nav-link">è®¡ç®—æœºåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">æ•°æ®ç»“æ„</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">ç®—æ³•åˆ†ç±»</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">æ•°æ®åº“</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">â˜ï¸è¿ç»´</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">ğŸš¬æµ‹è¯•</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">ğŸŒGIS</a></li><li class="dropdown-item"><!----> <a href="/Notebook/software/" class="nav-link">ï¸ï¸ğŸ–±ï¸è½¯ä»¶</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">ï¸ï¸ğŸ›ç½‘ç»œå·¥ç¨‹</a></li><li class="dropdown-item"><!----> <a href="/Notebook/csharp/" class="nav-link">ğŸš—C#</a></li><li class="dropdown-item"><!----> <a href="/Notebook/unity/" class="nav-link">ğŸ®Unity</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">è®¾è®¡</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">ğŸ–Œï¸UI</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">ğŸ·ä¹¦ç­¾æ•´ç†</a></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">âœ”ï¸ç¼–ç è§„èŒƒ&amp;ååŒå¼€å‘</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“–çŸ¥è¯†è„‘å›¾
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://jecyu.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”§ä¸ªäººåšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ğŸ”—Github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Yolanda177" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Yolanda github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jecyu.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  è‹±è¯­å­¦ä¹ 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jecyu.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link">ğŸ“æ—¥å¸¸è®°å½•</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">å¼€å‘è€…</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link router-link-active">ğŸ’»å¤§å‰ç«¯</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">ğŸ¤”å¤ç›˜</a></li><li class="dropdown-item"><h4>ï¸ï¸ğŸ§˜ç®—æ³•ä¿®ç‚¼</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/algorithm/computerBasics.html" class="nav-link">è®¡ç®—æœºåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">æ•°æ®ç»“æ„</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">ç®—æ³•åˆ†ç±»</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">æ•°æ®åº“</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">â˜ï¸è¿ç»´</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">ğŸš¬æµ‹è¯•</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">ğŸŒGIS</a></li><li class="dropdown-item"><!----> <a href="/Notebook/software/" class="nav-link">ï¸ï¸ğŸ–±ï¸è½¯ä»¶</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">ï¸ï¸ğŸ›ç½‘ç»œå·¥ç¨‹</a></li><li class="dropdown-item"><!----> <a href="/Notebook/csharp/" class="nav-link">ğŸš—C#</a></li><li class="dropdown-item"><!----> <a href="/Notebook/unity/" class="nav-link">ğŸ®Unity</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">è®¾è®¡</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">ğŸ–Œï¸UI</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">ğŸ·ä¹¦ç­¾æ•´ç†</a></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">âœ”ï¸ç¼–ç è§„èŒƒ&amp;ååŒå¼€å‘</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“–çŸ¥è¯†è„‘å›¾
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://jecyu.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”§ä¸ªäººåšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ğŸ”—Github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Yolanda177" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Yolanda github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jecyu.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  è‹±è¯­å­¦ä¹ 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jecyu.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>å‰ç«¯</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Notebook/frontend-web/browser.html" class="sidebar-link">æµè§ˆå™¨</a></li><li><a href="/Notebook/frontend-web/css.html" class="sidebar-link">CSS</a></li><li><a href="/Notebook/frontend-web/javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/Notebook/frontend-web/es6.html" class="sidebar-link">ES6</a></li><li><a href="/Notebook/frontend-web/react.html" class="sidebar-link">React</a></li><li><a href="/Notebook/frontend-web/vue.html" class="sidebar-link">Vue</a></li><li><a href="/Notebook/frontend-web/webpack.html" class="sidebar-link">webpack</a></li><li><a href="/Notebook/frontend-web/" class="sidebar-link">å·¥ç¨‹åŒ–</a></li><li><a href="/Notebook/frontend-web/modulization.html" class="sidebar-link">æ¨¡å—åŒ–</a></li><li><a href="/Notebook/frontend-web/architecture.html" class="sidebar-link">æ¶æ„</a></li><li><a href="/Notebook/frontend-web/authentication.html" class="sidebar-link">é‰´æƒ&amp;&amp;è®¤è¯</a></li><li><a href="/Notebook/frontend-web/chrome.html" class="sidebar-link">chrome è°ƒè¯•æŠ€å·§</a></li><li><a href="/Notebook/frontend-web/noJQ.html" class="active sidebar-link">You (Might) Don't Need jQuery</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/noJQ.html#ç›®å½•" class="sidebar-link">ç›®å½•</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/noJQ.html#query-selector" class="sidebar-link">Query Selector</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/noJQ.html#css-style" class="sidebar-link">CSS &amp; Style</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/noJQ.html#dom-manipulation" class="sidebar-link">DOM Manipulation</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/noJQ.html#ajax" class="sidebar-link">Ajax</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/noJQ.html#events" class="sidebar-link">Events</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/noJQ.html#utilities" class="sidebar-link">Utilities</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/noJQ.html#promises" class="sidebar-link">Promises</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/noJQ.html#animation" class="sidebar-link">Animation</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/noJQ.html#alternatives" class="sidebar-link">Alternatives</a></li><li class="sidebar-sub-header"><a href="/Notebook/frontend-web/noJQ.html#browser-support" class="sidebar-link">Browser Support</a></li></ul></li><li><a href="/Notebook/frontend-web/performance.html" class="sidebar-link">æ€§èƒ½ä¼˜åŒ–</a></li><li><a href="/Notebook/frontend-web/npm.html" class="sidebar-link">npm</a></li><li><a href="/Notebook/frontend-web/lodash.html" class="sidebar-link">lodash æºç åˆ†æåŠæ€è·¯å­¦ä¹ </a></li><li><a href="/Notebook/frontend-web/babel.html" class="sidebar-link">Babel</a></li><li><a href="/Notebook/frontend-web/rollup.html" class="sidebar-link">rollup</a></li><li><a href="/Notebook/frontend-web/docker.html" class="sidebar-link">Docker</a></li><li><a href="/Notebook/frontend-web/security.html" class="sidebar-link">å‰ç«¯å®‰å…¨</a></li><li><a href="/Notebook/frontend-web/file.html" class="sidebar-link">æ–‡ä»¶å¤„ç†</a></li><li><a href="/Notebook/frontend-web/interview.html" class="sidebar-link">å¸¸è§é—®é¢˜ 1</a></li><li><a href="/Notebook/frontend-web/interview2.html" class="sidebar-link">å¸¸è§é—®é¢˜ 2</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="you-might-don-t-need-jquery"><a href="#you-might-don-t-need-jquery" aria-hidden="true" class="header-anchor">#</a> You (Might) Don't Need jQuery</h1> <p>å‰ç«¯å‘å±•å¾ˆå¿«ï¼Œç°ä»£æµè§ˆå™¨åŸç”Ÿ API å·²ç»è¶³å¤Ÿå¥½ç”¨ã€‚æˆ‘ä»¬å¹¶ä¸éœ€è¦ä¸ºäº†æ“ä½œ DOMã€Event ç­‰å†å­¦ä¹ ä¸€ä¸‹ jQuery çš„ APIã€‚åŒæ—¶ç”±äº Reactã€Angularã€Vue ç­‰æ¡†æ¶çš„æµè¡Œï¼Œç›´æ¥æ“ä½œ DOM ä¸å†æ˜¯å¥½çš„æ¨¡å¼ï¼ŒjQuery ä½¿ç”¨åœºæ™¯å¤§å¤§å‡å°‘ã€‚æœ¬é¡¹ç›®æ€»ç»“äº†å¤§éƒ¨åˆ† jQuery API æ›¿ä»£çš„æ–¹æ³•ï¼Œæš‚æ—¶åªæ”¯æŒ IE10 ä»¥ä¸Šæµè§ˆå™¨ã€‚</p> <ul><li>æ‘˜å½•è‡ªï¼š<a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.1" target="_blank" rel="noopener noreferrer">https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md#3.1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="ç›®å½•"><a href="#ç›®å½•" aria-hidden="true" class="header-anchor">#</a> ç›®å½•</h2> <ul><li><a href="#you-might-dont-need-jquery">You (Might) Don't Need jQuery</a> <ul><li><a href="#%E7%9B%AE%E5%BD%95">ç›®å½•</a></li> <li><a href="#query-selector">Query Selector</a></li> <li><a href="#css--style">CSS &amp; Style</a></li> <li><a href="#dom-manipulation">DOM Manipulation</a></li> <li><a href="#ajax">Ajax</a></li> <li><a href="#events">Events</a></li> <li><a href="#utilities">Utilities</a></li> <li><a href="#promises">Promises</a></li> <li><a href="#animation">Animation</a></li> <li><a href="#alternatives">Alternatives</a></li> <li><a href="#browser-support">Browser Support</a></li></ul></li> <li><a href="#license">License</a></li></ul> <h2 id="query-selector"><a href="#query-selector" aria-hidden="true" class="header-anchor">#</a> Query Selector</h2> <p>å¸¸ç”¨çš„ classã€idã€å±æ€§ é€‰æ‹©å™¨éƒ½å¯ä»¥ä½¿ç”¨ <code>document.querySelector</code> æˆ– <code>document.querySelectorAll</code> æ›¿ä»£ã€‚åŒºåˆ«æ˜¯</p> <ul><li><code>document.querySelector</code> è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„ Element</li> <li><code>document.querySelectorAll</code> è¿”å›æ‰€æœ‰åŒ¹é…çš„ Element ç»„æˆçš„ NodeListã€‚å®ƒå¯ä»¥é€šè¿‡ <code>[].slice.call()</code> æŠŠå®ƒè½¬æˆ Array</li> <li>å¦‚æœåŒ¹é…ä¸åˆ°ä»»ä½• Elementï¼ŒjQuery è¿”å›ç©ºæ•°ç»„ <code>[]</code>ï¼Œä½† <code>document.querySelector</code> è¿”å› <code>null</code>ï¼Œæ³¨æ„ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚å½“æ‰¾ä¸åˆ°æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>||</code> è®¾ç½®é»˜è®¤çš„å€¼ï¼Œå¦‚ <code>document.querySelectorAll(selector) || []</code></li></ul> <blockquote><p>æ³¨æ„ï¼š<code>document.querySelector</code> å’Œ <code>document.querySelectorAll</code> æ€§èƒ½å¾ˆ<strong>å·®</strong>ã€‚å¦‚æœæƒ³æé«˜æ€§èƒ½ï¼Œå°½é‡ä½¿ç”¨ <code>document.getElementById</code>ã€<code>document.getElementsByClassName</code> æˆ– <code>document.getElementsByTagName</code>ã€‚</p></blockquote> <ul><li><p><a href="#1.0">1.0</a> <a name="1.0"></a> é€‰æ‹©å™¨æŸ¥è¯¢</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'selector'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'selector'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#1.1">1.1</a> <a name="1.1"></a> class æŸ¥è¯¢</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#1.2">1.2</a> <a name="1.2"></a> id æŸ¥è¯¢</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#1.3">1.3</a> <a name="1.3"></a> å±æ€§æŸ¥è¯¢</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'a[target=_blank]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'a[target=_blank]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#1.4">1.4</a> <a name="1.4"></a> åä»£æŸ¥è¯¢</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#1.5">1.5</a> <a name="1.5"></a> å…„å¼ŸåŠä¸Šä¸‹å…ƒç´ </p> <ul><li><p>å…„å¼Ÿå…ƒç´ </p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native - latest, Edge13+</span>
<span class="token punctuation">[</span><span class="token operator">...</span>el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>children<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  child <span class="token operator">!==</span> el
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Native (alternative) - latest, Edge13+</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  child <span class="token operator">!==</span> el
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Native - IE10+</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>children<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">child</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  child <span class="token operator">!==</span> el
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>ä¸Šä¸€ä¸ªå…ƒç´ </p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">prev</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>previousElementSibling<span class="token punctuation">;</span>

</code></pre></div></li> <li><p>ä¸‹ä¸€ä¸ªå…ƒç´ </p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// next</span>
$el<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p><a href="#1.6">1.6</a> <a name="1.6"></a> Closest</p> <p>Closest è·å¾—åŒ¹é…é€‰æ‹©å™¨çš„ç¬¬ä¸€ä¸ªç¥–å…ˆå…ƒç´ ï¼Œä»å½“å‰å…ƒç´ å¼€å§‹æ²¿ DOM æ ‘å‘ä¸Šã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">closest</span><span class="token punctuation">(</span>queryString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native - Only latest, NO IE</span>
el<span class="token punctuation">.</span><span class="token function">closest</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native - IE10+</span>
<span class="token keyword">function</span> <span class="token function">closest</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> selector</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> matchesSelector <span class="token operator">=</span> el<span class="token punctuation">.</span>matches <span class="token operator">||</span> el<span class="token punctuation">.</span>webkitMatchesSelector <span class="token operator">||</span> el<span class="token punctuation">.</span>mozMatchesSelector <span class="token operator">||</span> el<span class="token punctuation">.</span>msMatchesSelector<span class="token punctuation">;</span>

  <span class="token keyword">while</span> <span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">matchesSelector</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> selector<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> el<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      el <span class="token operator">=</span> el<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><a href="#1.7">1.7</a> <a name="1.7"></a> Parents Until</p> <p>è·å–å½“å‰æ¯ä¸€ä¸ªåŒ¹é…å…ƒç´ é›†çš„ç¥–å…ˆï¼Œä¸åŒ…æ‹¬åŒ¹é…å…ƒç´ çš„æœ¬èº«ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">parentsUntil</span><span class="token punctuation">(</span>selector<span class="token punctuation">,</span> filter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">parentsUntil</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> filter</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> matchesSelector <span class="token operator">=</span> el<span class="token punctuation">.</span>matches <span class="token operator">||</span> el<span class="token punctuation">.</span>webkitMatchesSelector <span class="token operator">||</span> el<span class="token punctuation">.</span>mozMatchesSelector <span class="token operator">||</span> el<span class="token punctuation">.</span>msMatchesSelector<span class="token punctuation">;</span>

  <span class="token comment">// match start from parent</span>
  el <span class="token operator">=</span> el<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>el <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">matchesSelector</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> selector<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>filter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">matchesSelector</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> filter<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    el <span class="token operator">=</span> el<span class="token punctuation">.</span>parentElement<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><a href="#1.8">1.8</a> <a name="1.8"></a> Form</p> <ul><li><p>Input/Textarea</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#my-input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#my-input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>è·å– e.currentTarget åœ¨ <code>.radio</code> ä¸­çš„æ•°ç»„ç´¢å¼•</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.radio'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.radio'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p><a href="#1.9">1.9</a> <a name="1.9"></a> Iframe Contents</p> <p>jQuery å¯¹è±¡çš„ iframe <code>contents()</code> è¿”å›çš„æ˜¯ iframe å†…çš„ <code>document</code></p> <ul><li><p>Iframe contents</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$iframe<span class="token punctuation">.</span><span class="token function">contents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
iframe<span class="token punctuation">.</span>contentDocument<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Iframe Query</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$iframe<span class="token punctuation">.</span><span class="token function">contents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
iframe<span class="token punctuation">.</span>contentDocument<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p><a href="#1.10">1.10</a> <a name="1.10"></a> è·å– body</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#1.11">1.11</a> <a name="1.11"></a> è·å–æˆ–è®¾ç½®å±æ€§</p> <ul><li><p>è·å–å±æ€§</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>è®¾ç½®å±æ€§</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery, note that this works in memory without change the DOM</span>
$el<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>è·å– <code>data-</code> å±æ€§</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native (use `getAttribute`)</span>
el<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native (use `dataset` if only need to support IE 11+)</span>
el<span class="token punctuation">.</span>dataset<span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul> <p><strong><a href="#%E7%9B%AE%E5%BD%95">â¬† å›åˆ°é¡¶éƒ¨</a></strong></p> <h2 id="css-style"><a href="#css-style" aria-hidden="true" class="header-anchor">#</a> CSS &amp; Style</h2> <ul><li><p><a href="#2.1">2.1</a> <a name="2.1"></a> CSS</p> <ul><li><p>Get style</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token comment">// æ³¨æ„ï¼šæ­¤å¤„ä¸ºäº†è§£å†³å½“ style å€¼ä¸º auto æ—¶ï¼Œè¿”å› auto çš„é—®é¢˜</span>
<span class="token keyword">const</span> win <span class="token operator">=</span> el<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">.</span>defaultView<span class="token punctuation">;</span>

<span class="token comment">// null çš„æ„æ€æ˜¯ä¸è¿”å›ä¼ªç±»å…ƒç´ </span>
win<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span>color<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Set style</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">&quot;#ff0011&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'#ff0011'</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Get/Set Styles</p> <p>æ³¨æ„ï¼Œå¦‚æœæƒ³ä¸€æ¬¡è®¾ç½®å¤šä¸ª styleï¼Œå¯ä»¥å‚è€ƒ oui-dom-utils ä¸­ <a href="https://github.com/oneuijs/oui-dom-utils/blob/master/src/index.js#L194" target="_blank" rel="noopener noreferrer">setStyles<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> æ–¹æ³•</p></li> <li><p>Add class</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Remove class</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>has class</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Toggle class</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p><a href="#2.2">2.2</a> <a name="2.2"></a> Width &amp; Height</p> <p>Width ä¸ Height è·å–æ–¹æ³•ç›¸åŒï¼Œä¸‹é¢ä»¥ Height ä¸ºä¾‹ï¼š</p> <ul><li><p>Window height</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// window height</span>
<span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å« scrollbar</span>
window<span class="token punctuation">.</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>

<span class="token comment">// ä¸å« scrollbarï¼Œä¸ jQuery è¡Œä¸ºä¸€è‡´</span>
window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Document height</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">const</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
<span class="token keyword">const</span> html <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
<span class="token keyword">const</span> height <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>
  body<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">,</span>
  body<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">,</span>
  html<span class="token punctuation">.</span>clientHeight<span class="token punctuation">,</span>
  html<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">,</span>
  html<span class="token punctuation">.</span>scrollHeight
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Element height</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> styles <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> height <span class="token operator">=</span> el<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">;</span>
  <span class="token keyword">const</span> borderTopWidth <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>styles<span class="token punctuation">.</span>borderTopWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> borderBottomWidth <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>styles<span class="token punctuation">.</span>borderBottomWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> paddingTop <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>styles<span class="token punctuation">.</span>paddingTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> paddingBottom <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>styles<span class="token punctuation">.</span>paddingBottom<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> height <span class="token operator">-</span> borderBottomWidth <span class="token operator">-</span> borderTopWidth <span class="token operator">-</span> paddingTop <span class="token operator">-</span> paddingBottom<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç²¾ç¡®åˆ°æ•´æ•°ï¼ˆborder-box æ—¶ä¸º height - border å€¼ï¼Œcontent-box æ—¶ä¸º height + padding å€¼ï¼‰</span>
el<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>

<span class="token comment">// ç²¾ç¡®åˆ°å°æ•°ï¼ˆborder-box æ—¶ä¸º height å€¼ï¼Œcontent-box æ—¶ä¸º height + padding + border å€¼ï¼‰</span>
el<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p><a href="#2.3">2.3</a> <a name="2.3"></a> Position &amp; Offset</p> <ul><li><p>Position</p> <p>è·å¾—åŒ¹é…å…ƒç´ ç›¸å¯¹çˆ¶å…ƒç´ çš„åç§»</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token punctuation">{</span> left<span class="token punctuation">:</span> el<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">,</span> top<span class="token punctuation">:</span> el<span class="token punctuation">.</span>offsetTop <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>Offset</p> <p>è·å¾—åŒ¹é…å…ƒç´ ç›¸å¯¹æ–‡æ¡£çš„åç§»</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">getOffset</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> box <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    top<span class="token punctuation">:</span> box<span class="token punctuation">.</span>top <span class="token operator">+</span> window<span class="token punctuation">.</span>pageYOffset <span class="token operator">-</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientTop<span class="token punctuation">,</span>
    left<span class="token punctuation">:</span> box<span class="token punctuation">.</span>left <span class="token operator">+</span> window<span class="token punctuation">.</span>pageXOffset <span class="token operator">-</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientLeft
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p><a href="#2.4">2.4</a> <a name="2.4"></a> Scroll Top</p> <p>è·å–å…ƒç´ æ»šåŠ¨æ¡å‚ç›´ä½ç½®ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement <span class="token operator">&amp;&amp;</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span> <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
</code></pre></div></li></ul> <p><strong><a href="#%E7%9B%AE%E5%BD%95">â¬† å›åˆ°é¡¶éƒ¨</a></strong></p> <h2 id="dom-manipulation"><a href="#dom-manipulation" aria-hidden="true" class="header-anchor">#</a> DOM Manipulation</h2> <ul><li><p><a href="#3.1">3.1</a> <a name="3.1"></a> Remove</p> <p>ä» DOM ä¸­ç§»é™¤å…ƒç´ ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native - Only latest, NO IE</span>
el<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#3.2">3.2</a> <a name="3.2"></a> Text</p> <ul><li><p>Get text</p> <p>è¿”å›æŒ‡å®šå…ƒç´ åŠå…¶åä»£çš„æ–‡æœ¬å†…å®¹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>textContent<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Set text</p> <p>è®¾ç½®å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>textContent <span class="token operator">=</span> string<span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p><a href="#3.3">3.3</a> <a name="3.3"></a> HTML</p> <ul><li><p>Get HTML</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Set HTML</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>htmlString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> htmlString<span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p><a href="#3.4">3.4</a> <a name="3.4"></a> Append</p> <p>Append æ’å…¥åˆ°å­èŠ‚ç‚¹çš„æœ«å°¾</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;div id='container'&gt;hello&lt;/div&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native (HTML string)</span>
el<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">'beforeend'</span><span class="token punctuation">,</span> <span class="token string">'&lt;div id=&quot;container&quot;&gt;Hello World&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native (Element)</span>
el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newEl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#3.5">3.5</a> <a name="3.5"></a> Prepend</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">prepend</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;div id='container'&gt;hello&lt;/div&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native (HTML string)</span>
el<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">'afterbegin'</span><span class="token punctuation">,</span> <span class="token string">'&lt;div id=&quot;container&quot;&gt;Hello World&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native (Element)</span>
el<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newEl<span class="token punctuation">,</span> el<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#3.6">3.6</a> <a name="3.6"></a> insertBefore</p> <p>åœ¨é€‰ä¸­å…ƒç´ å‰æ’å…¥æ–°èŠ‚ç‚¹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$newEl<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>queryString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native (HTML string)</span>
el<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">'beforebegin '</span><span class="token punctuation">,</span> <span class="token string">'&lt;div id=&quot;container&quot;&gt;Hello World&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native (Element)</span>
<span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newEl<span class="token punctuation">,</span> el<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><a href="#3.7">3.7</a> <a name="3.7"></a> insertAfter</p> <p>åœ¨é€‰ä¸­å…ƒç´ åæ’å…¥æ–°èŠ‚ç‚¹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$newEl<span class="token punctuation">.</span><span class="token function">insertAfter</span><span class="token punctuation">(</span>queryString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native (HTML string)</span>
el<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">'afterend'</span><span class="token punctuation">,</span> <span class="token string">'&lt;div id=&quot;container&quot;&gt;Hello World&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native (Element)</span>
<span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newEl<span class="token punctuation">,</span> el<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><a href="#3.8">3.8</a> <a name="3.8"></a> is</p> <p>å¦‚æœåŒ¹é…ç»™å®šçš„é€‰æ‹©å™¨ï¼Œè¿”å›true</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#3.9">3.9</a> <a name="3.9"></a> clone</p> <p>æ·±æ‹·è´è¢«é€‰å…ƒç´ ã€‚ï¼ˆç”Ÿæˆè¢«é€‰å…ƒç´ çš„å‰¯æœ¬ï¼ŒåŒ…å«å­èŠ‚ç‚¹ã€æ–‡æœ¬å’Œå±æ€§ã€‚ï¼‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Native</span>
<span class="token comment">//æ·±æ‹·è´æ·»åŠ å‚æ•°'true'</span>
el<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#3.10">3.10</a> <a name="3.10"></a> empty</p> <p>ç§»é™¤æ‰€æœ‰å­èŠ‚ç‚¹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Native</span>
el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#3.11">3.11</a> <a name="3.11"></a> wrap</p> <p>æŠŠæ¯ä¸ªè¢«é€‰å…ƒç´ æ”¾ç½®åœ¨æŒ‡å®šçš„HTMLç»“æ„ä¸­ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.inner&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token string">'&lt;div class=&quot;wrapper&quot;&gt;&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Native</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.inner'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  wrapper<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'wrapper'</span><span class="token punctuation">;</span>
  el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">,</span> el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  wrapper<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#3.12">3.12</a> <a name="3.12"></a> unwrap</p> <p>ç§»é™¤è¢«é€‰å…ƒç´ çš„çˆ¶å…ƒç´ çš„DOMç»“æ„</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.inner'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.inner'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> elParentNode <span class="token operator">=</span> el<span class="token punctuation">.</span>parentNode

      <span class="token keyword">if</span><span class="token punctuation">(</span>elParentNode <span class="token operator">!==</span> document<span class="token punctuation">.</span>body<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          elParentNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> elParentNode<span class="token punctuation">)</span>
          elParentNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>elParentNode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#3.13">3.13</a> <a name="3.13"></a> replaceWith</p> <p>ç”¨æŒ‡å®šçš„å…ƒç´ æ›¿æ¢è¢«é€‰çš„å…ƒç´ </p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.inner'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span><span class="token string">'&lt;div class=&quot;outer&quot;&gt;&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Native</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.inner'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> outer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  outer<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;outer&quot;</span><span class="token punctuation">;</span>
  el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>outer<span class="token punctuation">,</span> el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#3.14">3.14</a> <a name="3.14"></a> simple parse</p> <p>è§£æ HTML/SVG/XML å­—ç¬¦ä¸²</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;ol&gt;
  &lt;li&gt;a&lt;/li&gt;
  &lt;li&gt;b&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
  &lt;li&gt;c&lt;/li&gt;
  &lt;li&gt;d&lt;/li&gt;
&lt;/ol&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
range <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
parse <span class="token operator">=</span> range<span class="token punctuation">.</span><span class="token function">createContextualFragment</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>range<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">parse</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;ol&gt;
  &lt;li&gt;a&lt;/li&gt;
  &lt;li&gt;b&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
  &lt;li&gt;c&lt;/li&gt;
  &lt;li&gt;d&lt;/li&gt;
&lt;/ol&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <p><strong><a href="#%E7%9B%AE%E5%BD%95">â¬† å›åˆ°é¡¶éƒ¨</a></strong></p> <h2 id="ajax"><a href="#ajax" aria-hidden="true" class="header-anchor">#</a> Ajax</h2> <p><a href="https://fetch.spec.whatwg.org/" target="_blank" rel="noopener noreferrer">Fetch API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> æ˜¯ç”¨äºæ›¿æ¢ XMLHttpRequest å¤„ç† ajax çš„æ–°æ ‡å‡†ï¼ŒChrome å’Œ Firefox å‡æ”¯æŒï¼Œæ—§æµè§ˆå™¨å¯ä»¥ä½¿ç”¨ polyfills æä¾›æ”¯æŒã€‚</p> <p>IE9+ è¯·ä½¿ç”¨ <a href="http://github.com/github/fetch" target="_blank" rel="noopener noreferrer">github/fetch<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼ŒIE8+ è¯·ä½¿ç”¨ <a href="https://github.com/camsong/fetch-ie8/" target="_blank" rel="noopener noreferrer">fetch-ie8<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼ŒJSONP è¯·ä½¿ç”¨ <a href="https://github.com/camsong/fetch-jsonp" target="_blank" rel="noopener noreferrer">fetch-jsonp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p> <ul><li><p><a href="#4.1">4.1</a> <a name="4.1"></a> ä»æœåŠ¡å™¨è¯»å–æ•°æ®å¹¶æ›¿æ¢åŒ¹é…å…ƒç´ çš„å†…å®¹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> completeCallback<span class="token punctuation">)</span>

<span class="token comment">// Native</span>
<span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> data<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> data
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>completeCallback<span class="token punctuation">)</span>
</code></pre></div></li></ul> <p><strong><a href="#%E7%9B%AE%E5%BD%95">â¬† å›åˆ°é¡¶éƒ¨</a></strong></p> <h2 id="events"><a href="#events" aria-hidden="true" class="header-anchor">#</a> Events</h2> <p>å®Œæ•´åœ°æ›¿ä»£å‘½åç©ºé—´å’Œäº‹ä»¶ä»£ç†ï¼Œé“¾æ¥åˆ° https://github.com/oneuijs/oui-dom-events</p> <ul><li><p><a href="#5.0">5.0</a> <a name="5.0"></a> Document ready by <code>DOMContentLoaded</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span>eventHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token comment">// æ£€æµ‹ DOMContentLoaded æ˜¯å¦å·²å®Œæˆ</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>readyState <span class="token operator">!==</span> <span class="token string">'loading'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">eventHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> eventHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><a href="#5.1">5.1</a> <a name="5.1"></a> ä½¿ç”¨ on ç»‘å®šäº‹ä»¶</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> eventHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> eventHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#5.2">5.2</a> <a name="5.2"></a> ä½¿ç”¨ off è§£ç»‘äº‹ä»¶</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> eventHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> eventHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#5.3">5.3</a> <a name="5.3"></a> Trigger</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token function">$</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'custom-event'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>key1<span class="token punctuation">:</span> <span class="token string">'data'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>CustomEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">'custom-event'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>detail<span class="token punctuation">:</span> <span class="token punctuation">{</span>key1<span class="token punctuation">:</span> <span class="token string">'data'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> event <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span><span class="token string">'CustomEvent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span><span class="token function">initCustomEvent</span><span class="token punctuation">(</span><span class="token string">'custom-event'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>key1<span class="token punctuation">:</span> <span class="token string">'data'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

el<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <p><strong><a href="#%E7%9B%AE%E5%BD%95">â¬† å›åˆ°é¡¶éƒ¨</a></strong></p> <h2 id="utilities"><a href="#utilities" aria-hidden="true" class="header-anchor">#</a> Utilities</h2> <p>å¤§éƒ¨åˆ†å®ç”¨å·¥å…·éƒ½èƒ½åœ¨ native API ä¸­æ‰¾åˆ°. å…¶ä»–é«˜çº§åŠŸèƒ½å¯ä»¥é€‰ç”¨ä¸“æ³¨äºè¯¥é¢†åŸŸçš„ç¨³å®šæ€§å’Œæ€§èƒ½éƒ½æ›´å¥½çš„åº“æ¥ä»£æ›¿ï¼Œæ¨è <a href="https://lodash.com" target="_blank" rel="noopener noreferrer">lodash<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p> <ul><li><p><a href="#6.1">6.1</a> <a name="6.1"></a> åŸºæœ¬å·¥å…·</p> <ul><li>isArray</li></ul> <p>æ£€æµ‹å‚æ•°æ˜¯ä¸æ˜¯æ•°ç»„ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>range<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>range<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>isWindow</li></ul> <p>æ£€æµ‹å‚æ•°æ˜¯ä¸æ˜¯ windowã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">isWindow</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">isWindow</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> obj <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> obj <span class="token operator">===</span> obj<span class="token punctuation">.</span>window<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>inArray</li></ul> <p>åœ¨æ•°ç»„ä¸­æœç´¢æŒ‡å®šå€¼å¹¶è¿”å›ç´¢å¼• (æ‰¾ä¸åˆ°åˆ™è¿”å› -1)ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">// ES6-way</span>
array<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>isNumeric</li></ul> <p>æ£€æµ‹ä¼ å…¥çš„å‚æ•°æ˜¯ä¸æ˜¯æ•°å­—ã€‚
Use <code>typeof</code> to decide the type or the <code>type</code> example for better accuracy.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">isNumeric</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">isNumeric</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isFinite</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>isFunction</li></ul> <p>æ£€æµ‹ä¼ å…¥çš„å‚æ•°æ˜¯ä¸æ˜¯ JavaScript å‡½æ•°å¯¹è±¡ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">isFunction</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> item <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> type <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> type <span class="token operator">===</span> <span class="token string">'[object Function]'</span> <span class="token operator">||</span> type <span class="token operator">===</span> <span class="token string">'[object GeneratorFunction]'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>isEmptyObject</li></ul> <p>æ£€æµ‹å¯¹è±¡æ˜¯å¦ä¸ºç©º (åŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§).</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">isEmptyObject</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">isEmptyObject</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>isPlainObject</li></ul> <p>æ£€æµ‹æ˜¯ä¸æ˜¯æ‰å¹³å¯¹è±¡ (ä½¿ç”¨ â€œ{}â€ æˆ– â€œnew Objectâ€ åˆ›å»º).</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">isPlainObject</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> obj<span class="token punctuation">.</span>nodeType <span class="token operator">||</span> obj <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> obj <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> obj <span class="token operator">===</span> obj<span class="token punctuation">.</span>window<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>constructor <span class="token operator">&amp;&amp;</span>
      <span class="token operator">!</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'isPrototypeOf'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>extend</li></ul> <p>åˆå¹¶å¤šä¸ªå¯¹è±¡çš„å†…å®¹åˆ°ç¬¬ä¸€ä¸ªå¯¹è±¡ã€‚
object.assign æ˜¯ ES6 APIï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <a href="https://github.com/ljharb/object.assign" target="_blank" rel="noopener noreferrer">polyfill<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> defaultOpts<span class="token punctuation">,</span> opts<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> defaultOpts<span class="token punctuation">,</span> opts<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>trim</li></ul> <p>ç§»é™¤å­—ç¬¦ä¸²å¤´å°¾ç©ºç™½ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
string<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>map</li></ul> <p>å°†æ•°ç»„æˆ–å¯¹è±¡è½¬åŒ–ä¸ºåŒ…å«æ–°å†…å®¹çš„æ•°ç»„ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
array<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>each</li></ul> <p>è½®è¯¢å‡½æ•°ï¼Œå¯ç”¨äºå¹³æ»‘çš„è½®è¯¢å¯¹è±¡å’Œæ•°ç»„ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
array<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>grep</li></ul> <p>æ‰¾åˆ°æ•°ç»„ä¸­ç¬¦åˆè¿‡æ»¤å‡½æ•°çš„å…ƒç´ ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">grep</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>type</li></ul> <p>æ£€æµ‹å¯¹è±¡çš„ JavaScript [Class] å†…éƒ¨ç±»å‹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> reTypeOf <span class="token operator">=</span> <span class="token regex">/(?:^\[object\s(.*?)\]$)/</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reTypeOf<span class="token punctuation">,</span> <span class="token string">'$1'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>merge</li></ul> <p>åˆå¹¶ç¬¬äºŒä¸ªæ•°ç»„å†…å®¹åˆ°ç¬¬ä¸€ä¸ªæ•°ç»„ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>array1<span class="token punctuation">,</span> array2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token comment">// ä½¿ç”¨ concatï¼Œä¸èƒ½å»é™¤é‡å¤å€¼</span>
<span class="token keyword">function</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ES6ï¼ŒåŒæ ·ä¸èƒ½å»é™¤é‡å¤å€¼</span>
array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>array1<span class="token punctuation">,</span> <span class="token operator">...</span>array2<span class="token punctuation">]</span>

<span class="token comment">// ä½¿ç”¨ Setï¼Œå¯ä»¥å»é™¤é‡å¤å€¼</span>
<span class="token keyword">function</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>now</li></ul> <p>è¿”å›å½“å‰æ—¶é—´çš„æ•°å­—å‘ˆç°ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>proxy</li></ul> <p>ä¼ å…¥å‡½æ•°å¹¶è¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¯¥å‡½æ•°ç»‘å®šæŒ‡å®šä¸Šä¸‹æ–‡ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">proxy</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>makeArray</li></ul> <p>ç±»æ•°ç»„å¯¹è±¡è½¬åŒ–ä¸ºçœŸæ­£çš„ JavaScript æ•°ç»„ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">makeArray</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ES6-way</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#6.2">6.2</a> <a name="6.2"></a> åŒ…å«</p> <p>æ£€æµ‹ DOM å…ƒç´ æ˜¯ä¸æ˜¯å…¶ä»– DOM å…ƒç´ çš„åä»£.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> child<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el <span class="token operator">!==</span> child <span class="token operator">&amp;&amp;</span> el<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#6.3">6.3</a> <a name="6.3"></a> Globaleval</p> <p>å…¨å±€æ‰§è¡Œ JavaScript ä»£ç ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">globaleval</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">Globaleval</span><span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>text <span class="token operator">=</span> code<span class="token punctuation">;</span>

  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Use eval, but context of eval is current, context of $.Globaleval is global.</span>
<span class="token function">eval</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#6.4">6.4</a> <a name="6.4"></a> è§£æ</p> <ul><li>parseHTML</li></ul> <p>è§£æå­—ç¬¦ä¸²ä¸º DOM èŠ‚ç‚¹æ•°ç»„.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">parseHTML</span><span class="token punctuation">(</span>htmlString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">parseHTML</span><span class="token punctuation">(</span><span class="token parameter">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> context <span class="token operator">=</span> document<span class="token punctuation">.</span>implementation<span class="token punctuation">.</span><span class="token function">createHTMLDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Set the base href for the created document so any parsed elements with URLs</span>
  <span class="token comment">// are based on the document's URL</span>
  <span class="token keyword">const</span> base <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'base'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  base<span class="token punctuation">.</span>href <span class="token operator">=</span> document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">;</span>

  context<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> string<span class="token punctuation">;</span>
  <span class="token keyword">return</span> context<span class="token punctuation">.</span>body<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>parseJSON</li></ul> <p>ä¼ å…¥æ ¼å¼æ­£ç¡®çš„ JSON å­—ç¬¦ä¸²å¹¶è¿”å› JavaScript å€¼.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">parseJSON</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <p><strong><a href="#%E7%9B%AE%E5%BD%95">â¬† å›åˆ°é¡¶éƒ¨</a></strong></p> <h2 id="promises"><a href="#promises" aria-hidden="true" class="header-anchor">#</a> Promises</h2> <p>Promise ä»£è¡¨å¼‚æ­¥æ“ä½œçš„æœ€ç»ˆç»“æœã€‚jQuery ç”¨å®ƒè‡ªå·±çš„æ–¹å¼å¤„ç† promisesï¼ŒåŸç”Ÿ JavaScript éµå¾ª <a href="http://promises-aplus.github.io/promises-spec/" target="_blank" rel="noopener noreferrer">Promises/A+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> æ ‡å‡†å®ç°äº†æœ€å° API æ¥å¤„ç† promisesã€‚</p> <ul><li><p><a href="#7.1">7.1</a> <a name="7.1"></a> done, fail, always</p> <p><code>done</code> ä¼šåœ¨ promise è§£å†³æ—¶è°ƒç”¨ï¼Œ<code>fail</code> ä¼šåœ¨ promise æ‹’ç»æ—¶è°ƒç”¨ï¼Œ<code>always</code> æ€»ä¼šè°ƒç”¨ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$promise<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span>doneCallback<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span>failCallback<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">always</span><span class="token punctuation">(</span>alwaysCallback<span class="token punctuation">)</span>

<span class="token comment">// Native</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>doneCallback<span class="token punctuation">,</span> failCallback<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>alwaysCallback<span class="token punctuation">,</span> alwaysCallback<span class="token punctuation">)</span>
</code></pre></div></li> <li><p><a href="#7.2">7.2</a> <a name="7.2"></a> when</p> <p><code>when</code> ç”¨äºå¤„ç†å¤šä¸ª promisesã€‚å½“å…¨éƒ¨ promises è¢«è§£å†³æ—¶è¿”å›ï¼Œå½“ä»»ä¸€ promise è¢«æ‹’ç»æ—¶æ‹’ç»ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$<span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span>$promise1<span class="token punctuation">,</span> $promise2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">promise1Result<span class="token punctuation">,</span> promise2Result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>$promise1<span class="token punctuation">,</span> $promise2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1Result<span class="token punctuation">,</span> promise2Result<span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#7.3">7.3</a> <a name="7.3"></a> Deferred</p> <p>Deferred æ˜¯åˆ›å»º promises çš„ä¸€ç§æ–¹å¼ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
<span class="token keyword">function</span> <span class="token function">asyncFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> defer <span class="token operator">=</span> <span class="token keyword">new</span> $<span class="token punctuation">.</span><span class="token function">Deferred</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      defer<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'some_value_computed_asynchronously'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      defer<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'failed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> defer<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Native</span>
<span class="token keyword">function</span> <span class="token function">asyncFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'some_value_computed_asynchronously'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'failed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Deferred way</span>
<span class="token keyword">function</span> <span class="token function">defer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> deferred <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    deferred<span class="token punctuation">.</span>resolve <span class="token operator">=</span> resolve<span class="token punctuation">;</span>
    deferred<span class="token punctuation">.</span>reject <span class="token operator">=</span> reject<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  deferred<span class="token punctuation">.</span><span class="token function-variable function">promise</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> promise<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> deferred<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">asyncFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> defer <span class="token operator">=</span> <span class="token function">defer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      defer<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'some_value_computed_asynchronously'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      defer<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'failed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> defer<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p><strong><a href="#%E7%9B%AE%E5%BD%95">â¬† å›åˆ°é¡¶éƒ¨</a></strong></p> <h2 id="animation"><a href="#animation" aria-hidden="true" class="header-anchor">#</a> Animation</h2> <ul><li><p><a href="#8.1">8.1</a> <a name="8.1"></a> Show &amp; Hide</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$el<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token comment">// æ›´å¤š show æ–¹æ³•çš„ç»†èŠ‚è¯¦è§ https://github.com/oneuijs/oui-dom-utils/blob/master/src/index.js#L363</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">''</span><span class="token operator">|</span><span class="token string">'inline'</span><span class="token operator">|</span><span class="token string">'inline-block'</span><span class="token operator">|</span><span class="token string">'inline-table'</span><span class="token operator">|</span><span class="token string">'block'</span><span class="token punctuation">;</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#8.2">8.2</a> <a name="8.2"></a> Toggle</p> <p>æ˜¾ç¤ºæˆ–éšè—å…ƒç´ ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">.</span>defaultView<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span>display <span class="token operator">===</span> <span class="token string">'none'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">''</span><span class="token operator">|</span><span class="token string">'inline'</span><span class="token operator">|</span><span class="token string">'inline-block'</span><span class="token operator">|</span><span class="token string">'inline-table'</span><span class="token operator">|</span><span class="token string">'block'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><a href="#8.3">8.3</a> <a name="8.3"></a> FadeIn &amp; FadeOut</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">fadeIn</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$el<span class="token punctuation">.</span><span class="token function">fadeOut</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'opacity 3s'</span><span class="token punctuation">;</span>
<span class="token comment">// fadeIn</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
<span class="token comment">// fadeOut</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#8.4">8.4</a> <a name="8.4"></a> FadeTo</p> <p>è°ƒæ•´å…ƒç´ é€æ˜åº¦ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">fadeTo</span><span class="token punctuation">(</span><span class="token string">'slow'</span><span class="token punctuation">,</span><span class="token number">0.15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'opacity 3s'</span><span class="token punctuation">;</span> <span class="token comment">// å‡è®¾ 'slow' ç­‰äº 3 ç§’</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token string">'0.15'</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#8.5">8.5</a> <a name="8.5"></a> FadeToggle</p> <p>åŠ¨ç”»è°ƒæ•´é€æ˜åº¦ç”¨æ¥æ˜¾ç¤ºæˆ–éšè—ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">fadeToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'opacity 3s'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> opacity <span class="token punctuation">}</span> <span class="token operator">=</span> el<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">.</span>defaultView<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>opacity <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><a href="#8.6">8.6</a> <a name="8.6"></a> SlideUp &amp; SlideDown</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">slideUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$el<span class="token punctuation">.</span><span class="token function">slideDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">const</span> originHeight <span class="token operator">=</span> <span class="token string">'100px'</span><span class="token punctuation">;</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'height 3s'</span><span class="token punctuation">;</span>
<span class="token comment">// slideUp</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'0px'</span><span class="token punctuation">;</span>
<span class="token comment">// slideDown</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> originHeight<span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="#8.7">8.7</a> <a name="8.7"></a> SlideToggle</p> <p>æ»‘åŠ¨åˆ‡æ¢æ˜¾ç¤ºæˆ–éšè—ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">slideToggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
<span class="token keyword">const</span> originHeight <span class="token operator">=</span> <span class="token string">'100px'</span><span class="token punctuation">;</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'height 3s'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> el<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">.</span>defaultView<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>height<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> originHeight<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
 el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'0px'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><a href="#8.8">8.8</a> <a name="8.8"></a> Animate</p> <p>æ‰§è¡Œä¸€ç³»åˆ— CSS å±æ€§åŠ¨ç”»ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jQuery</span>
$el<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">,</span> speed<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Native</span>
el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'all '</span> <span class="token operator">+</span> speed<span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> params<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">)</span>
</code></pre></div></li></ul> <p><strong><a href="#%E7%9B%AE%E5%BD%95">â¬† å›åˆ°é¡¶éƒ¨</a></strong></p> <h2 id="alternatives"><a href="#alternatives" aria-hidden="true" class="header-anchor">#</a> Alternatives</h2> <ul><li><a href="http://youmightnotneedjquery.com/" target="_blank" rel="noopener noreferrer">ä½ å¯èƒ½ä¸éœ€è¦ jQuery (You Might Not Need jQuery)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> - å¦‚ä½•ä½¿ç”¨åŸç”Ÿ JavaScript å®ç°é€šç”¨äº‹ä»¶ï¼Œå…ƒç´ ï¼Œajax ç­‰ç”¨æ³•ã€‚</li> <li><a href="http://github.com/npm-dom" target="_blank" rel="noopener noreferrer">npm-dom<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ä»¥åŠ <a href="http://github.com/webmodules" target="_blank" rel="noopener noreferrer">webmodules<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> - åœ¨ NPM ä¸Šæä¾›ç‹¬ç«‹ DOM æ¨¡å—çš„ç»„ç»‡</li></ul> <h2 id="browser-support"><a href="#browser-support" aria-hidden="true" class="header-anchor">#</a> Browser Support</h2> <table><thead><tr><th><img src="https://raw.github.com/alrra/browser-logos/master/src/chrome/chrome_48x48.png" alt="Chrome"></th> <th><img src="https://raw.github.com/alrra/browser-logos/master/src/firefox/firefox_48x48.png" alt="Firefox"></th> <th><img src="https://raw.github.com/alrra/browser-logos/master/src/archive/internet-explorer_9-11/internet-explorer_9-11_48x48.png" alt="IE"></th> <th><img src="https://raw.github.com/alrra/browser-logos/master/src/opera/opera_48x48.png" alt="Opera"></th> <th><img src="https://raw.github.com/alrra/browser-logos/master/src/safari/safari_48x48.png" alt="Safari"></th></tr></thead> <tbody><tr><td>Latest âœ”</td> <td>Latest âœ”</td> <td>10+ âœ”</td> <td>Latest âœ”</td> <td>6.1+ âœ”</td></tr></tbody></table> <h1 id="license"><a href="#license" aria-hidden="true" class="header-anchor">#</a> License</h1> <p>MIT</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">11/25/2019, 5:55:58 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/Notebook/frontend-web/chrome.html" class="prev">
          chrome è°ƒè¯•æŠ€å·§
        </a></span> <span class="next"><a href="/Notebook/frontend-web/performance.html">
          æ€§èƒ½ä¼˜åŒ–
        </a>
        â†’
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Notebook/assets/js/app.fae3116e.js" defer></script><script src="/Notebook/assets/js/3.8a90166b.js" defer></script><script src="/Notebook/assets/js/67.3caaf58d.js" defer></script>
  </body>
</html>
