(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{536:function(a,s,t){"use strict";t.r(s);var r=t(38),e=Object(r.a)({},function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql","aria-hidden":"true"}},[a._v("#")]),a._v(" MySQL")]),a._v(" "),t("p",[a._v("MySQL 是一个关系型数据库管理系统，MySQL 是一种 DBMS，即它是一种数据库软件。由瑞典 MySQL AB 公司开发，目前属于 Oracle 公司。MySQL 是一种关联数据库管理系统，关联数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。")]),a._v(" "),t("h2",{attrs:{id:"客户机——服务器软件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#客户机——服务器软件","aria-hidden":"true"}},[a._v("#")]),a._v(" 客户机——服务器软件")]),a._v(" "),t("ul",[t("li",[a._v("客户机（用来与 MySQL 打交道，给 MySQL 提供要执行的命令）的一个应用。\n"),t("ul",[t("li",[a._v("mysql 命令行实用程序")])])])]),a._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("h3",{attrs:{id:"下载安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载安装包","aria-hidden":"true"}},[a._v("#")]),a._v(" 下载安装包")]),a._v(" "),t("p",[a._v("所有平台的 MySQL 下载地址为： "),t("a",{attrs:{href:"https://dev.mysql.com/downloads/mysql/",target:"_blank",rel:"noopener noreferrer"}},[a._v("MySQL 下载"),t("OutboundLink")],1),a._v(" 。 挑选你需要的 MySQL Community Server 版本及对应的平台")]),a._v(" "),t("blockquote",[t("p",[a._v("注意：安装过程我们需要通过开启管理员权限来安装，否则会由于权限不足导致无法安装。")])]),a._v(" "),t("h3",{attrs:{id:"基于-docker-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基于-docker-安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 基于 docker 安装")]),a._v(" "),t("h4",{attrs:{id:"首先安装-docker-服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#首先安装-docker-服务","aria-hidden":"true"}},[a._v("#")]),a._v(" 首先安装 docker 服务")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" docker \n")])])]),t("h4",{attrs:{id:"docker-中搜索可用镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-中搜索可用镜像","aria-hidden":"true"}},[a._v("#")]),a._v(" docker 中搜索可用镜像")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker search mysql\n")])])]),t("h4",{attrs:{id:"拉取-mysql-镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拉取-mysql-镜像","aria-hidden":"true"}},[a._v("#")]),a._v(" 拉取 mysql 镜像")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker pull mysql:5.6\n")])])]),t("h4",{attrs:{id:"查看-mysql-镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看-mysql-镜像","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看 mysql 镜像")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker image "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" \n")])])]),t("h4",{attrs:{id:"运行-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行-mysql","aria-hidden":"true"}},[a._v("#")]),a._v(" 运行 mysql")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker run --name mysql -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_ROOT_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("123456")]),a._v(" -d -i -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v(":3306 --restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always  mysql:5.6\n")])])]),t("p",[a._v("以上参数的含义：")]),a._v(" "),t("ul",[t("li",[a._v("--name mysql 将容器命名为"),t("code",[a._v("mysql")]),a._v("，后面可以用这个 name 进行容器的启动暂停等操作")]),a._v(" "),t("li",[a._v("-e MYSQL_ROOT_PASSWORD=123456 设置 MySQL 密码为 123456")]),a._v(" "),t("li",[a._v("-d 此容器在后台运行，并且返回容器 ID")]),a._v(" "),t("li",[a._v("-i 以交互模式运行容器")]),a._v(" "),t("li",[a._v("-p 进行端口映射，格式为 "),t("code",[a._v("主机（宿主）端口：容器端口")])]),a._v(" "),t("li",[a._v("--restart=always 当 docker 重启时，该容器自动重启")])]),a._v(" "),t("h4",{attrs:{id:"进入-mysql-容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进入-mysql-容器","aria-hidden":"true"}},[a._v("#")]),a._v(" 进入 MySQL 容器")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it mysql "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])])]),t("h4",{attrs:{id:"登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#登录","aria-hidden":"true"}},[a._v("#")]),a._v(" 登录")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mysql -h 主机名 -u 用户名 -p\n")])])]),t("ul",[t("li",[a._v("h：指定客户端所要登录的 MySQL 主机名，登录本机（localhost 或 127.0.0.1）该参数可以省略；")]),a._v(" "),t("li",[a._v("-u：登录的用户名；")]),a._v(" "),t("li",[a._v("-p：告诉服务器将会使用一个密码来登录，如果所要登录的用户民密码为空，可以忽略此选项。")])]),a._v(" "),t("p",[a._v("如果我们要登录本机的 MySQL 数据库，只需要输入以下命令即可（docker 容器中登录）")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mysql -u root -p\n")])])]),t("p",[a._v("按回车确认，如果安装正确且 MySQL 正在运行，会得到以下响应：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("Enter password: \n")])])]),t("p",[a._v("登录成功后")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" \n")])])]),t("p",[a._v("退出")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exit")]),a._v("\nBye\n")])])]),t("h2",{attrs:{id:"管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#管理","aria-hidden":"true"}},[a._v("#")]),a._v(" 管理")]),a._v(" "),t("h3",{attrs:{id:"用户设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户设置","aria-hidden":"true"}},[a._v("#")]),a._v(" 用户设置")]),a._v(" "),t("p",[a._v("如果你需要添加 MySQL 用户，你只需要在 mysql 数据库中的 user 表添加新用户即可。")]),a._v(" "),t("p",[a._v("以下为添加用户的的实例，用户名为guest，密码为guest123，并授权用户可进行 SELECT, INSERT 和 UPDATE操作权限：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("root@host"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# mysql -u root -p")]),a._v("\nEnter password:*******\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" use mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nDatabase changed\n\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" INSERT INTO user \n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("host, user, password, \n           select_priv, insert_priv, update_priv"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n           VALUES "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'localhost'")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'guest'")]),a._v(", \n           PASSWORD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'guest123'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Y'")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Y'")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Y'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nQuery OK, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" row affected "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.20")]),a._v(" sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" FLUSH PRIVILEGES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nQuery OK, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" row affected "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.01")]),a._v(" sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" SELECT host, user, password FROM user WHERE user "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'guest'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n+-----------+---------+------------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("host")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" user    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" password         "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n+-----------+---------+------------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" localhost "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" guest "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" 6f8c114b58f2ce9e "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n+-----------+---------+------------------+\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" row "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.00")]),a._v(" sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("p",[a._v("在添加用户时，请注意使用MySQL提供的 PASSWORD() 函数来对密码进行加密。 你可以在以上实例看到用户密码加密后为： 6f8c114b58f2ce9e.")]),a._v(" "),t("p",[a._v("注意：在 MySQL5.7 中 user 表的 password 已换成了authentication_string。")]),a._v(" "),t("p",[a._v("注意：password() 加密函数已经在 8.0.11 中移除了，可以使用 MD5() 函数代替。")]),a._v(" "),t("p",[a._v("注意：在注意需要执行 FLUSH PRIVILEGES 语句。 这个命令执行后会重新载入授权表。")]),a._v(" "),t("p",[a._v("如果你不使用该命令，你就无法使用新创建的用户来连接mysql服务器，除非你重启mysql服务器。")]),a._v(" "),t("ul",[t("li",[a._v("Select_priv")]),a._v(" "),t("li",[a._v("Insert_priv")]),a._v(" "),t("li",[a._v("Update_priv")]),a._v(" "),t("li",[a._v("Delete_priv")]),a._v(" "),t("li",[a._v("Create_priv")]),a._v(" "),t("li",[a._v("Drop_priv")]),a._v(" "),t("li",[a._v("Reload_priv")]),a._v(" "),t("li",[a._v("Shutdown_priv")]),a._v(" "),t("li",[a._v("Process_priv")]),a._v(" "),t("li",[a._v("File_priv")]),a._v(" "),t("li",[a._v("Grant_priv")]),a._v(" "),t("li",[a._v("References_priv")]),a._v(" "),t("li",[a._v("Index_priv")]),a._v(" "),t("li",[a._v("Alter_priv")])]),a._v(" "),t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令","aria-hidden":"true"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),t("h3",{attrs:{id:"创建数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建数据库","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建数据库")]),a._v(" "),t("p",[a._v("CREATE DATABASE 数据库名;")]),a._v(" "),t("p",[a._v("使用普通用户登陆 MySQL 服务器，你可能需要特定的权限来创建或者删除 MySQL 数据库，所以我们这边使用 root 用户登录，root 用户拥有最高权限。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mysql -u root -p\nEnter password: ****** "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 登录后进入终端")]),a._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" create DATABASE jecyuBlog"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("p",[a._v("使用xxx 语言脚本创建数据库")]),a._v(" "),t("h3",{attrs:{id:"删除数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除数据库","aria-hidden":"true"}},[a._v("#")]),a._v(" 删除数据库")]),a._v(" "),t("p",[a._v("drop 命令删除数据库")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("drop database jecyuBlog"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("h3",{attrs:{id:"选择数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选择数据库","aria-hidden":"true"}},[a._v("#")]),a._v(" 选择数据库")]),a._v(" "),t("p",[a._v("选择要操作的 Mysql 数据库，使用该命令后所有 Mysql 命令都只针对该数据库：\nUSE 数据库名：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" use jecyuBlog"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nDatabse changed\n")])])]),t("h3",{attrs:{id:"列出所有数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#列出所有数据库","aria-hidden":"true"}},[a._v("#")]),a._v(" 列出所有数据库")]),a._v(" "),t("p",[a._v("列出 MySQL 数据库管理系统的数据库列表。\nSHOW DATABASES")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" SHOW DATABASES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n+--------------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" Database           "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n+--------------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" information_schema "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" mysql              "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" performance_schema "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n+--------------------+\n")])])]),t("h3",{attrs:{id:"显示指定数据库的所有表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示指定数据库的所有表","aria-hidden":"true"}},[a._v("#")]),a._v(" 显示指定数据库的所有表")]),a._v(" "),t("p",[a._v("显示指定数据库的所有表，使用改命令前需要使用 use 命令来选择要操作的数据库。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("SHOW TABLES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" use jecyuBlog"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nDatabase changed\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" SHOW TABLES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("h2",{attrs:{id:"gui-工具操作-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gui-工具操作-mysql","aria-hidden":"true"}},[a._v("#")]),a._v(" GUI 工具操作 MySQL")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://yq.aliyun.com/articles/5132",target:"_blank",rel:"noopener noreferrer"}},[a._v("最棒的10款MySQL GUI工具"),t("OutboundLink")],1),a._v(" —— 这里我使用了 "),t("a",{attrs:{href:"https://www.sequelpro.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Sequel Pro"),t("OutboundLink")],1),a._v(" 开源，mac 版本，Sequel Pro用于管理MySQL数据库（本地或在Internet上）。您可以使用它来添加删除数据库和表，修改字段和索引，预览和过滤表的内容，添加编辑删除行，执行自定义查询，转储表或整个数据库。它兼容MySQL 3.x，4，5。")])]),a._v(" "),t("h2",{attrs:{id:"node-js-连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-js-连接","aria-hidden":"true"}},[a._v("#")]),a._v(" Node.js 连接")]),a._v(" "),t("h2",{attrs:{id:"参考资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[a._v("#")]),a._v(" 参考资料")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.runoob.com/mysql/mysql-administration.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("菜鸟网站 MySQL"),t("OutboundLink")],1),a._v(" -- MySQL 通俗读物。")])])])},[],!1,null,null,null);s.default=e.exports}}]);