(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{569:function(a,t,s){"use strict";s.r(t);var e=s(38),n=Object(e.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"npm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm","aria-hidden":"true"}},[a._v("#")]),a._v(" npm")]),a._v(" "),s("h2",{attrs:{id:"初始化一个项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化一个项目","aria-hidden":"true"}},[a._v("#")]),a._v(" 初始化一个项目")]),a._v(" "),s("p",[a._v("在项目里没有安装任何 "),s("code",[a._v("npm")]),a._v(" 时，先使用以下命令生成 package.json 描述文件，否则直接安装 "),s("code",[a._v("npm")]),a._v(" 依赖包的话，会被安装到全局环境下。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" init 或 "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" init\n")])])]),s("p",[a._v("如果没有安装 yarn，推荐全局安装")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" -g\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("help")]),a._v(" COMMAND \n")])])]),s("h2",{attrs:{id:"npm-vs-yarn-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-vs-yarn-命令","aria-hidden":"true"}},[a._v("#")]),a._v(" npm vs yarn 命令")]),a._v(" "),s("blockquote",[s("p",[a._v("yarn https://yarnpkg.com/en/docs/migrating-from-npm")])]),a._v(" "),s("table",[s("thead",[s("tr",[s("td",[a._v(" npm(v5) ")]),a._v(" "),s("td",[a._v(" Yarn ")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("npm install")]),a._v(" "),s("td",[a._v("yarn install")])]),a._v(" "),s("tr",[s("td",[a._v("npm install --no-package-lock")]),a._v(" "),s("td",[a._v("yarn install --no-lockfile")])]),a._v(" "),s("tr",[s("td",[a._v("npm install [package] --save")]),a._v(" "),s("td",[a._v("yarn add [package]")])]),a._v(" "),s("tr",[s("td",[a._v("npm install [package] --save-dev")]),a._v(" "),s("td",[a._v("yarn add [package] --dev")])]),a._v(" "),s("tr",[s("td",[a._v("npm install [package] --global")]),a._v(" "),s("td",[a._v("yarn global add [package]")])]),a._v(" "),s("tr",[s("td",[a._v("npm uninstall [package]")]),a._v(" "),s("td",[a._v("yarn remove [package]")])]),a._v(" "),s("tr",[s("td",[a._v("npm cache clean")]),a._v(" "),s("td",[a._v("yarn cache clean [package]")])]),a._v(" "),s("tr",[s("td",[a._v("rm -rf node_modules && npm install")]),a._v(" "),s("td",[a._v("yarn upgrade")])]),a._v(" "),s("tr",[s("td",[a._v("npm update --global")]),a._v(" "),s("td",[a._v("yarn global update")])])])]),a._v(" "),s("h2",{attrs:{id:"npm-换源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-换源","aria-hidden":"true"}},[a._v("#")]),a._v(" npm 换源")]),a._v(" "),s("p",[a._v("一、使用淘宝镜像")]),a._v(" "),s("ol",[s("li",[a._v("临时使用")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" --registry https://registry.npm.taobao.org "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" express\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("持久使用")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" registry https://registry.npm.taobao.org\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("通过cnpm")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g cnpm --registry"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("https://registry.npm.taobao.org\n")])])]),s("p",[a._v("二、使用官方镜像")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" registry https://registry.npmjs.org/\n")])])]),s("p",[a._v("三、查看npm源地址")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config get registry\n")])])]),s("h2",{attrs:{id:"关于-npm-包版本号前缀-和-区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于-npm-包版本号前缀-和-区别","aria-hidden":"true"}},[a._v("#")]),a._v(" 关于 npm 包版本号前缀 "),s("code",[a._v("~")]),a._v(" 和 "),s("code",[a._v("^")]),a._v(" 区别")]),a._v(" "),s("ul",[s("li",[s("p",[s("code",[a._v("~")]),a._v(" 会匹配安装最近的小版本依赖包，比如"),s("code",[a._v("~1.2.3")]),a._v("会匹配所有1.2.x版本，但是不包括1.3.0")])]),a._v(" "),s("li",[s("p",[s("code",[a._v("^")]),a._v(" 会匹配安装最新的大版本依赖包，比如"),s("code",[a._v("^1.2.3")]),a._v("会匹配所有1.x.x的包，包括1.3.0，但是不包括2.0.0")])])]),a._v(" "),s("h2",{attrs:{id:"全局安装和本地安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局安装和本地安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 全局安装和本地安装")]),a._v(" "),s("h2",{attrs:{id:"开发依赖和生产依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发依赖和生产依赖","aria-hidden":"true"}},[a._v("#")]),a._v(" 开发依赖和生产依赖")]),a._v(" "),s("h2",{attrs:{id:"yarn-add"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yarn-add","aria-hidden":"true"}},[a._v("#")]),a._v(" yarn add")]),a._v(" "),s("p",[a._v("大多数的包会从 "),s("code",[a._v("npm registry")]),a._v(" 目录里以包名来安装。")]),a._v(" "),s("ol",[s("li",[s("code",[a._v("yarn add package-name")]),a._v(" 会安装 latest 最新版本。")]),a._v(" "),s("li",[s("code",[a._v("yarn add package-name@1.2.3")]),a._v(" 会从 registry 里安装这个包的指定版本。")]),a._v(" "),s("li",[s("code",[a._v("yarn add package-name@tag")]),a._v(" 会安装某个 “tag” 标识的版本（比如 beta、next 或者 latest）。")])]),a._v(" "),s("p",[a._v("指定不同路径的包：")]),a._v(" "),s("ol",[s("li",[s("code",[a._v("yarn add file:/path/to/local/folder")]),a._v(" 从本地系统里安装一个包，可以用这种方式测试还没发布的包。")]),a._v(" "),s("li",[s("code",[a._v("yarn add file:/path/to/local/tarball.tgz")]),a._v(" 安装一个 gzipped 压缩包，此格式可以用于在发布之前分享你的包。")]),a._v(" "),s("li",[s("code",[a._v("yarn add <git remote url>")]),a._v(" 从远程 git repo 里安装一个包。")]),a._v(" "),s("li",[s("code",[a._v("yarn add <git remote url>#<branch/commit/tag>")]),a._v(" 从一个远程 git 仓库指定的 git 分支、git 提交记录或 git 标签安装一个包。")]),a._v(" "),s("li",[a._v("yarn add https://my-project.org/package.tgz 用一个远程 gzipped 压缩包来安装。")])])])},[],!1,null,null,null);t.default=n.exports}}]);