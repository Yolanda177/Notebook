<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2020 | Yolanda</title>
    <meta name="description" content="每天学习一点点">
    <link rel="icon" href="/Notebook/images/mylogo.jpg">
    
    <link rel="preload" href="/Notebook/assets/css/0.styles.4f932b82.css" as="style"><link rel="preload" href="/Notebook/assets/js/app.fae3116e.js" as="script"><link rel="preload" href="/Notebook/assets/js/3.8a90166b.js" as="script"><link rel="preload" href="/Notebook/assets/js/13.6db71019.js" as="script"><link rel="prefetch" href="/Notebook/assets/js/10.7c0500f6.js"><link rel="prefetch" href="/Notebook/assets/js/11.96ce6645.js"><link rel="prefetch" href="/Notebook/assets/js/12.295d52cd.js"><link rel="prefetch" href="/Notebook/assets/js/14.0c1400d8.js"><link rel="prefetch" href="/Notebook/assets/js/15.edab26a3.js"><link rel="prefetch" href="/Notebook/assets/js/16.88fd161d.js"><link rel="prefetch" href="/Notebook/assets/js/17.408350d5.js"><link rel="prefetch" href="/Notebook/assets/js/18.6ab68d1c.js"><link rel="prefetch" href="/Notebook/assets/js/19.9e9ef1da.js"><link rel="prefetch" href="/Notebook/assets/js/2.e3a9cac0.js"><link rel="prefetch" href="/Notebook/assets/js/20.56c42c66.js"><link rel="prefetch" href="/Notebook/assets/js/21.8d087c07.js"><link rel="prefetch" href="/Notebook/assets/js/22.cf2b0a03.js"><link rel="prefetch" href="/Notebook/assets/js/23.7413880a.js"><link rel="prefetch" href="/Notebook/assets/js/24.28bab990.js"><link rel="prefetch" href="/Notebook/assets/js/25.75c60686.js"><link rel="prefetch" href="/Notebook/assets/js/26.ef1edf61.js"><link rel="prefetch" href="/Notebook/assets/js/27.5aeea7cc.js"><link rel="prefetch" href="/Notebook/assets/js/28.8476b7e4.js"><link rel="prefetch" href="/Notebook/assets/js/29.956345a3.js"><link rel="prefetch" href="/Notebook/assets/js/30.b96e226e.js"><link rel="prefetch" href="/Notebook/assets/js/31.04440a69.js"><link rel="prefetch" href="/Notebook/assets/js/32.273112ca.js"><link rel="prefetch" href="/Notebook/assets/js/33.e709b2b3.js"><link rel="prefetch" href="/Notebook/assets/js/34.dc2136ae.js"><link rel="prefetch" href="/Notebook/assets/js/35.30ab0118.js"><link rel="prefetch" href="/Notebook/assets/js/36.cb41bc4a.js"><link rel="prefetch" href="/Notebook/assets/js/37.dd26a76e.js"><link rel="prefetch" href="/Notebook/assets/js/38.68398169.js"><link rel="prefetch" href="/Notebook/assets/js/39.93b8990e.js"><link rel="prefetch" href="/Notebook/assets/js/4.5f27db7e.js"><link rel="prefetch" href="/Notebook/assets/js/40.ed267aa9.js"><link rel="prefetch" href="/Notebook/assets/js/41.985eec03.js"><link rel="prefetch" href="/Notebook/assets/js/42.260a858d.js"><link rel="prefetch" href="/Notebook/assets/js/43.6cb97df7.js"><link rel="prefetch" href="/Notebook/assets/js/44.869ede03.js"><link rel="prefetch" href="/Notebook/assets/js/45.bf3e5a26.js"><link rel="prefetch" href="/Notebook/assets/js/46.a54b425c.js"><link rel="prefetch" href="/Notebook/assets/js/47.8ebe066b.js"><link rel="prefetch" href="/Notebook/assets/js/48.416ad307.js"><link rel="prefetch" href="/Notebook/assets/js/49.7394cd78.js"><link rel="prefetch" href="/Notebook/assets/js/5.01244a1f.js"><link rel="prefetch" href="/Notebook/assets/js/50.4675f4c4.js"><link rel="prefetch" href="/Notebook/assets/js/51.a112471f.js"><link rel="prefetch" href="/Notebook/assets/js/52.a6195fbf.js"><link rel="prefetch" href="/Notebook/assets/js/53.15f5f0a8.js"><link rel="prefetch" href="/Notebook/assets/js/54.bbc6eb3c.js"><link rel="prefetch" href="/Notebook/assets/js/55.ba5d1f28.js"><link rel="prefetch" href="/Notebook/assets/js/56.2d5a7c0d.js"><link rel="prefetch" href="/Notebook/assets/js/57.b6f47637.js"><link rel="prefetch" href="/Notebook/assets/js/58.3ce0f8ce.js"><link rel="prefetch" href="/Notebook/assets/js/59.66784ebf.js"><link rel="prefetch" href="/Notebook/assets/js/6.4d03de1b.js"><link rel="prefetch" href="/Notebook/assets/js/60.2c355106.js"><link rel="prefetch" href="/Notebook/assets/js/61.1fb23164.js"><link rel="prefetch" href="/Notebook/assets/js/62.5ee4cd1c.js"><link rel="prefetch" href="/Notebook/assets/js/63.08a71f63.js"><link rel="prefetch" href="/Notebook/assets/js/64.e7464a6a.js"><link rel="prefetch" href="/Notebook/assets/js/65.de9108af.js"><link rel="prefetch" href="/Notebook/assets/js/66.83e75f1b.js"><link rel="prefetch" href="/Notebook/assets/js/67.3caaf58d.js"><link rel="prefetch" href="/Notebook/assets/js/68.2dd69095.js"><link rel="prefetch" href="/Notebook/assets/js/69.927efe78.js"><link rel="prefetch" href="/Notebook/assets/js/7.a97cfeeb.js"><link rel="prefetch" href="/Notebook/assets/js/70.92fd8264.js"><link rel="prefetch" href="/Notebook/assets/js/71.0ef73e07.js"><link rel="prefetch" href="/Notebook/assets/js/72.7e0a2fee.js"><link rel="prefetch" href="/Notebook/assets/js/73.816bc4b8.js"><link rel="prefetch" href="/Notebook/assets/js/74.e1c44e90.js"><link rel="prefetch" href="/Notebook/assets/js/75.52d5991e.js"><link rel="prefetch" href="/Notebook/assets/js/76.3ab263b9.js"><link rel="prefetch" href="/Notebook/assets/js/77.76e6e752.js"><link rel="prefetch" href="/Notebook/assets/js/78.e2711be8.js"><link rel="prefetch" href="/Notebook/assets/js/79.ecf0c259.js"><link rel="prefetch" href="/Notebook/assets/js/8.698b291a.js"><link rel="prefetch" href="/Notebook/assets/js/80.6defbc57.js"><link rel="prefetch" href="/Notebook/assets/js/81.650b6435.js"><link rel="prefetch" href="/Notebook/assets/js/82.f41e2c82.js"><link rel="prefetch" href="/Notebook/assets/js/83.62a3d0ce.js"><link rel="prefetch" href="/Notebook/assets/js/84.f2e0ba7a.js"><link rel="prefetch" href="/Notebook/assets/js/85.7d5af1cd.js"><link rel="prefetch" href="/Notebook/assets/js/86.883b02f7.js"><link rel="prefetch" href="/Notebook/assets/js/87.dc5913fb.js"><link rel="prefetch" href="/Notebook/assets/js/88.369e5f01.js"><link rel="prefetch" href="/Notebook/assets/js/89.fd496723.js"><link rel="prefetch" href="/Notebook/assets/js/9.220abfab.js"><link rel="prefetch" href="/Notebook/assets/js/90.1d16c82f.js"><link rel="prefetch" href="/Notebook/assets/js/91.6bcdcb57.js"><link rel="prefetch" href="/Notebook/assets/js/92.3f6beaea.js"><link rel="prefetch" href="/Notebook/assets/js/93.d98ca184.js">
    <link rel="stylesheet" href="/Notebook/assets/css/0.styles.4f932b82.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Notebook/" class="home-link router-link-active"><!----> <span class="site-name">Yolanda</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link router-link-active">📝日常记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">开发者</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link">💻大前端</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">🤔复盘</a></li><li class="dropdown-item"><h4>️️🧘算法修炼</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/algorithm/computerBasics.html" class="nav-link">计算机基础</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">数据结构</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">算法分类</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">数据库</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">☁️运维</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">🚬测试</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">🌍GIS</a></li><li class="dropdown-item"><!----> <a href="/Notebook/software/" class="nav-link">️️🖱️软件</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">️️🐛网络工程</a></li><li class="dropdown-item"><!----> <a href="/Notebook/csharp/" class="nav-link">🚗C#</a></li><li class="dropdown-item"><!----> <a href="/Notebook/unity/" class="nav-link">🎮Unity</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">设计</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">🖌️UI</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">🏷书签整理</a></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">✔️编码规范&amp;协同开发</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://jecyu.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">🔗Github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Yolanda177" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Yolanda github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jecyu.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英语学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jecyu.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端自动化测试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link router-link-active">📝日常记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">开发者</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/frontend-web/" class="nav-link">💻大前端</a></li><li class="dropdown-item"><!----> <a href="/Notebook/rethink/" class="nav-link">🤔复盘</a></li><li class="dropdown-item"><h4>️️🧘算法修炼</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Notebook/algorithm/computerBasics.html" class="nav-link">计算机基础</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/dataStructure.html" class="nav-link">数据结构</a></li><li class="dropdown-subitem"><a href="/Notebook/algorithm/algorithm.html" class="nav-link">算法分类</a></li><li class="dropdown-subitem"><a href="/Notebook/dataBase/index.html" class="nav-link">数据库</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Notebook/devops/" class="nav-link">☁️运维</a></li><li class="dropdown-item"><!----> <a href="/Notebook/test/" class="nav-link">🚬测试</a></li><li class="dropdown-item"><!----> <a href="/Notebook/gis/" class="nav-link">🌍GIS</a></li><li class="dropdown-item"><!----> <a href="/Notebook/software/" class="nav-link">️️🖱️软件</a></li><li class="dropdown-item"><!----> <a href="/Notebook/network/" class="nav-link">️️🐛网络工程</a></li><li class="dropdown-item"><!----> <a href="/Notebook/csharp/" class="nav-link">🚗C#</a></li><li class="dropdown-item"><!----> <a href="/Notebook/unity/" class="nav-link">🎮Unity</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">设计</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Notebook/design/" class="nav-link">🖌️UI</a></li></ul></div></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">🏷书签整理</a></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">✔️编码规范&amp;协同开发</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://jecyu.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">🔗Github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Yolanda177" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Yolanda github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jecyu.github.io/language-learning/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  英语学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jecyu.github.io/Fe-Auto-Testing/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端自动化测试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>日常记录</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Notebook/dailyRecord/2020.html" class="active sidebar-link">2020</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#december" class="sidebar-link">December</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#安装nvm失败问题" class="sidebar-link">安装nvm失败问题</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#常见的-mime-type" class="sidebar-link">常见的 MIME_TYPE</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#oct" class="sidebar-link">Oct</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#获取后台暴露在响应头里的信息" class="sidebar-link">获取后台暴露在响应头里的信息</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#august" class="sidebar-link">August</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#element-组件-el-tabs-导致页面崩溃" class="sidebar-link">element 组件 el-tabs 导致页面崩溃</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#render-函数中给标签添加动态多类名写法：" class="sidebar-link">render 函数中给标签添加动态多类名写法：</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#july" class="sidebar-link">July</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#tomcat-异常被关闭" class="sidebar-link">tomcat 异常被关闭</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#jane" class="sidebar-link">Jane</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#常见验证" class="sidebar-link">常见验证</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#may" class="sidebar-link">May</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#远程服务器查看-tomcat-是否启动" class="sidebar-link">远程服务器查看 tomcat 是否启动</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#april" class="sidebar-link">April</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#图片-url-下载的兼容方式" class="sidebar-link">图片 url 下载的兼容方式</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#if-else-if-else-优化" class="sidebar-link">if...else if...else 优化</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#获取响应头中的-authorization" class="sidebar-link">获取响应头中的 Authorization</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#表单验证失败（拿不到-value-值）或输入框无法输入数据" class="sidebar-link">表单验证失败（拿不到 value 值）或输入框无法输入数据</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#span-标签内容是英文时，不会自动换行" class="sidebar-link">span 标签内容是英文时，不会自动换行</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#march" class="sidebar-link">March</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#iview-表格宽度自适应" class="sidebar-link">iview 表格宽度自适应</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#表格行数据进行上下移操作" class="sidebar-link">表格行数据进行上下移操作</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#_4-13-版-iview-树形表格动态添加子节点报错失效问题" class="sidebar-link">4.13 版 iview 树形表格动态添加子节点报错失效问题</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#新版-chrome-携带-cookie-问题" class="sidebar-link">新版 Chrome 携带 Cookie 问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#february" class="sidebar-link">February</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#blob-转成-file" class="sidebar-link">blob 转成 file</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#object-defineproperty-数据劫持" class="sidebar-link">Object.defineProperty 数据劫持</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2020.html#使用-canvas-实现用户头像上传" class="sidebar-link">使用 canvas 实现用户头像上传</a></li></ul></li></ul></li><li><a href="/Notebook/dailyRecord/2018.html" class="sidebar-link">2018</a></li><li><a href="/Notebook/dailyRecord/table.html" class="sidebar-link">有关表格的一切</a></li><li><a href="/Notebook/dailyRecord/" class="sidebar-link">2019</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>TechnologyDevelopment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Notebook/dailyRecord/TechnologyDevelopment.html" class="sidebar-link">技术决定发展</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_2020"><a href="#_2020" aria-hidden="true" class="header-anchor">#</a> 2020</h1> <h2 id="december"><a href="#december" aria-hidden="true" class="header-anchor">#</a> December</h2> <h3 id="安装nvm失败问题"><a href="#安装nvm失败问题" aria-hidden="true" class="header-anchor">#</a> 安装nvm失败问题</h3> <ul><li>查看 raw.githubusercontent.com 的域名是否更改</li> <li>终端 cd /etc</li> <li>打开 hosts 文件，修改对应地址为最新域名</li></ul> <p><img src="/Notebook/assets/img/nvm-hosts.adace55c.png" alt=""></p> <p>注意 使用 <code>sudo vi hosts</code> 进入文件后 <code>i</code> 操作文件，完成后按esc结束，然后 shift + ：wq 保存跳出</p> <h3 id="常见的-mime-type"><a href="#常见的-mime-type" aria-hidden="true" class="header-anchor">#</a> 常见的 MIME_TYPE</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">MIME_TYPE_LIST</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'*'</span><span class="token punctuation">:</span> <span class="token string">'application/octet-stream'</span><span class="token punctuation">,</span>
    <span class="token string">'323'</span><span class="token punctuation">:</span> <span class="token string">'text/h323'</span><span class="token punctuation">,</span>
    acx<span class="token punctuation">:</span> <span class="token string">'application/internet-property-stream'</span><span class="token punctuation">,</span>
    ai<span class="token punctuation">:</span> <span class="token string">'application/postscript'</span><span class="token punctuation">,</span>
    aif<span class="token punctuation">:</span> <span class="token string">'audio/x-aiff'</span><span class="token punctuation">,</span>
    aifc<span class="token punctuation">:</span> <span class="token string">'audio/x-aiff'</span><span class="token punctuation">,</span>
    aiff<span class="token punctuation">:</span> <span class="token string">'audio/x-aiff'</span><span class="token punctuation">,</span>
    asf<span class="token punctuation">:</span> <span class="token string">'video/x-ms-asf'</span><span class="token punctuation">,</span>
    asr<span class="token punctuation">:</span> <span class="token string">'video/x-ms-asf'</span><span class="token punctuation">,</span>
    asx<span class="token punctuation">:</span> <span class="token string">'video/x-ms-asf'</span><span class="token punctuation">,</span>
    au<span class="token punctuation">:</span> <span class="token string">'audio/basic'</span><span class="token punctuation">,</span>
    avi<span class="token punctuation">:</span> <span class="token string">'video/x-msvideo'</span><span class="token punctuation">,</span>
    axs<span class="token punctuation">:</span> <span class="token string">'application/olescript'</span><span class="token punctuation">,</span>
    bas<span class="token punctuation">:</span> <span class="token string">'text/plain'</span><span class="token punctuation">,</span>
    bcpio<span class="token punctuation">:</span> <span class="token string">'application/x-bcpio'</span><span class="token punctuation">,</span>
    bin<span class="token punctuation">:</span> <span class="token string">'application/octet-stream'</span><span class="token punctuation">,</span>
    bmp<span class="token punctuation">:</span> <span class="token string">'image/bmp'</span><span class="token punctuation">,</span>
    c<span class="token punctuation">:</span> <span class="token string">'text/plain'</span><span class="token punctuation">,</span>
    cat<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-pkiseccat'</span><span class="token punctuation">,</span>
    cdf<span class="token punctuation">:</span> <span class="token string">'application/x-cdf'</span><span class="token punctuation">,</span>
    cer<span class="token punctuation">:</span> <span class="token string">'application/x-x509-ca-cert'</span><span class="token punctuation">,</span>
    <span class="token keyword">class</span><span class="token punctuation">:</span> <span class="token string">'application/octet-stream'</span><span class="token punctuation">,</span>
    clp<span class="token punctuation">:</span> <span class="token string">'application/x-msclip'</span><span class="token punctuation">,</span>
    cmx<span class="token punctuation">:</span> <span class="token string">'image/x-cmx'</span><span class="token punctuation">,</span>
    cod<span class="token punctuation">:</span> <span class="token string">'image/cis-cod'</span><span class="token punctuation">,</span>
    cpio<span class="token punctuation">:</span> <span class="token string">'application/x-cpio'</span><span class="token punctuation">,</span>
    crd<span class="token punctuation">:</span> <span class="token string">'application/x-mscardfile'</span><span class="token punctuation">,</span>
    crl<span class="token punctuation">:</span> <span class="token string">'application/pkix-crl'</span><span class="token punctuation">,</span>
    crt<span class="token punctuation">:</span> <span class="token string">'application/x-x509-ca-cert'</span><span class="token punctuation">,</span>
    csh<span class="token punctuation">:</span> <span class="token string">'application/x-csh'</span><span class="token punctuation">,</span>
    css<span class="token punctuation">:</span> <span class="token string">'text/css'</span><span class="token punctuation">,</span>
    dcr<span class="token punctuation">:</span> <span class="token string">'application/x-director'</span><span class="token punctuation">,</span>
    der<span class="token punctuation">:</span> <span class="token string">'application/x-x509-ca-cert'</span><span class="token punctuation">,</span>
    dir<span class="token punctuation">:</span> <span class="token string">'application/x-director'</span><span class="token punctuation">,</span>
    dll<span class="token punctuation">:</span> <span class="token string">'application/x-msdownload'</span><span class="token punctuation">,</span>
    dms<span class="token punctuation">:</span> <span class="token string">'application/octet-stream'</span><span class="token punctuation">,</span>
    doc<span class="token punctuation">:</span> <span class="token string">'application/msword'</span><span class="token punctuation">,</span>
    docx<span class="token punctuation">:</span>
        <span class="token string">'application/vnd.openxmlformats-officedocument.wordprocessingml.document'</span><span class="token punctuation">,</span>
    dot<span class="token punctuation">:</span> <span class="token string">'application/msword'</span><span class="token punctuation">,</span>
    dvi<span class="token punctuation">:</span> <span class="token string">'application/x-dvi'</span><span class="token punctuation">,</span>
    dxr<span class="token punctuation">:</span> <span class="token string">'application/x-director'</span><span class="token punctuation">,</span>
    eps<span class="token punctuation">:</span> <span class="token string">'application/postscript'</span><span class="token punctuation">,</span>
    etx<span class="token punctuation">:</span> <span class="token string">'text/x-setext'</span><span class="token punctuation">,</span>
    evy<span class="token punctuation">:</span> <span class="token string">'application/envoy'</span><span class="token punctuation">,</span>
    exe<span class="token punctuation">:</span> <span class="token string">'application/octet-stream'</span><span class="token punctuation">,</span>
    fif<span class="token punctuation">:</span> <span class="token string">'application/fractals'</span><span class="token punctuation">,</span>
    flr<span class="token punctuation">:</span> <span class="token string">'x-world/x-vrml'</span><span class="token punctuation">,</span>
    gif<span class="token punctuation">:</span> <span class="token string">'image/gif'</span><span class="token punctuation">,</span>
    gtar<span class="token punctuation">:</span> <span class="token string">'application/x-gtar'</span><span class="token punctuation">,</span>
    gz<span class="token punctuation">:</span> <span class="token string">'application/x-gzip'</span><span class="token punctuation">,</span>
    h<span class="token punctuation">:</span> <span class="token string">'text/plain'</span><span class="token punctuation">,</span>
    hdf<span class="token punctuation">:</span> <span class="token string">'application/x-hdf'</span><span class="token punctuation">,</span>
    hlp<span class="token punctuation">:</span> <span class="token string">'application/winhlp'</span><span class="token punctuation">,</span>
    hqx<span class="token punctuation">:</span> <span class="token string">'application/mac-binhex40'</span><span class="token punctuation">,</span>
    hta<span class="token punctuation">:</span> <span class="token string">'application/hta'</span><span class="token punctuation">,</span>
    htc<span class="token punctuation">:</span> <span class="token string">'text/x-component'</span><span class="token punctuation">,</span>
    htm<span class="token punctuation">:</span> <span class="token string">'text/html'</span><span class="token punctuation">,</span>
    html<span class="token punctuation">:</span> <span class="token string">'text/html'</span><span class="token punctuation">,</span>
    htt<span class="token punctuation">:</span> <span class="token string">'text/webviewhtml'</span><span class="token punctuation">,</span>
    ico<span class="token punctuation">:</span> <span class="token string">'image/x-icon'</span><span class="token punctuation">,</span>
    ief<span class="token punctuation">:</span> <span class="token string">'image/ief'</span><span class="token punctuation">,</span>
    iii<span class="token punctuation">:</span> <span class="token string">'application/x-iphone'</span><span class="token punctuation">,</span>
    ins<span class="token punctuation">:</span> <span class="token string">'application/x-internet-signup'</span><span class="token punctuation">,</span>
    isp<span class="token punctuation">:</span> <span class="token string">'application/x-internet-signup'</span><span class="token punctuation">,</span>
    jfif<span class="token punctuation">:</span> <span class="token string">'image/pipeg'</span><span class="token punctuation">,</span>
    jpe<span class="token punctuation">:</span> <span class="token string">'image/jpeg'</span><span class="token punctuation">,</span>
    jpeg<span class="token punctuation">:</span> <span class="token string">'image/jpeg'</span><span class="token punctuation">,</span>
    jpg<span class="token punctuation">:</span> <span class="token string">'image/jpeg'</span><span class="token punctuation">,</span>
    png<span class="token punctuation">:</span> <span class="token string">'image/png'</span><span class="token punctuation">,</span>
    js<span class="token punctuation">:</span> <span class="token string">'application/x-javascript'</span><span class="token punctuation">,</span>
    latex<span class="token punctuation">:</span> <span class="token string">'application/x-latex'</span><span class="token punctuation">,</span>
    lha<span class="token punctuation">:</span> <span class="token string">'application/octet-stream'</span><span class="token punctuation">,</span>
    lsf<span class="token punctuation">:</span> <span class="token string">'video/x-la-asf'</span><span class="token punctuation">,</span>
    lsx<span class="token punctuation">:</span> <span class="token string">'video/x-la-asf'</span><span class="token punctuation">,</span>
    lzh<span class="token punctuation">:</span> <span class="token string">'application/octet-stream'</span><span class="token punctuation">,</span>
    m13<span class="token punctuation">:</span> <span class="token string">'application/x-msmediaview'</span><span class="token punctuation">,</span>
    m14<span class="token punctuation">:</span> <span class="token string">'application/x-msmediaview'</span><span class="token punctuation">,</span>
    m3u<span class="token punctuation">:</span> <span class="token string">'audio/x-mpegurl'</span><span class="token punctuation">,</span>
    man<span class="token punctuation">:</span> <span class="token string">'application/x-troff-man'</span><span class="token punctuation">,</span>
    mdb<span class="token punctuation">:</span> <span class="token string">'application/x-msaccess'</span><span class="token punctuation">,</span>
    me<span class="token punctuation">:</span> <span class="token string">'application/x-troff-me'</span><span class="token punctuation">,</span>
    mht<span class="token punctuation">:</span> <span class="token string">'message/rfc822'</span><span class="token punctuation">,</span>
    mhtml<span class="token punctuation">:</span> <span class="token string">'message/rfc822'</span><span class="token punctuation">,</span>
    mid<span class="token punctuation">:</span> <span class="token string">'audio/mid'</span><span class="token punctuation">,</span>
    mny<span class="token punctuation">:</span> <span class="token string">'application/x-msmoney'</span><span class="token punctuation">,</span>
    mov<span class="token punctuation">:</span> <span class="token string">'video/quicktime'</span><span class="token punctuation">,</span>
    movie<span class="token punctuation">:</span> <span class="token string">'video/x-sgi-movie'</span><span class="token punctuation">,</span>
    mp2<span class="token punctuation">:</span> <span class="token string">'video/mpeg'</span><span class="token punctuation">,</span>
    mp3<span class="token punctuation">:</span> <span class="token string">'audio/mpeg'</span><span class="token punctuation">,</span>
    mpa<span class="token punctuation">:</span> <span class="token string">'video/mpeg'</span><span class="token punctuation">,</span>
    mpe<span class="token punctuation">:</span> <span class="token string">'video/mpeg'</span><span class="token punctuation">,</span>
    mpeg<span class="token punctuation">:</span> <span class="token string">'video/mpeg'</span><span class="token punctuation">,</span>
    mpg<span class="token punctuation">:</span> <span class="token string">'video/mpeg'</span><span class="token punctuation">,</span>
    mpp<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-project'</span><span class="token punctuation">,</span>
    mpv2<span class="token punctuation">:</span> <span class="token string">'video/mpeg'</span><span class="token punctuation">,</span>
    ms<span class="token punctuation">:</span> <span class="token string">'application/x-troff-ms'</span><span class="token punctuation">,</span>
    mvb<span class="token punctuation">:</span> <span class="token string">'application/x-msmediaview'</span><span class="token punctuation">,</span>
    nws<span class="token punctuation">:</span> <span class="token string">'message/rfc822'</span><span class="token punctuation">,</span>
    oda<span class="token punctuation">:</span> <span class="token string">'application/oda'</span><span class="token punctuation">,</span>
    p10<span class="token punctuation">:</span> <span class="token string">'application/pkcs10'</span><span class="token punctuation">,</span>
    p12<span class="token punctuation">:</span> <span class="token string">'application/x-pkcs12'</span><span class="token punctuation">,</span>
    p7b<span class="token punctuation">:</span> <span class="token string">'application/x-pkcs7-certificates'</span><span class="token punctuation">,</span>
    p7c<span class="token punctuation">:</span> <span class="token string">'application/x-pkcs7-mime'</span><span class="token punctuation">,</span>
    p7m<span class="token punctuation">:</span> <span class="token string">'application/x-pkcs7-mime'</span><span class="token punctuation">,</span>
    p7r<span class="token punctuation">:</span> <span class="token string">'application/x-pkcs7-certreqresp'</span><span class="token punctuation">,</span>
    p7s<span class="token punctuation">:</span> <span class="token string">'application/x-pkcs7-signature'</span><span class="token punctuation">,</span>
    pbm<span class="token punctuation">:</span> <span class="token string">'image/x-portable-bitmap'</span><span class="token punctuation">,</span>
    pdf<span class="token punctuation">:</span> <span class="token string">'application/pdf'</span><span class="token punctuation">,</span>
    pfx<span class="token punctuation">:</span> <span class="token string">'application/x-pkcs12'</span><span class="token punctuation">,</span>
    pgm<span class="token punctuation">:</span> <span class="token string">'image/x-portable-graymap'</span><span class="token punctuation">,</span>
    pko<span class="token punctuation">:</span> <span class="token string">'application/ynd.ms-pkipko'</span><span class="token punctuation">,</span>
    pma<span class="token punctuation">:</span> <span class="token string">'application/x-perfmon'</span><span class="token punctuation">,</span>
    pmc<span class="token punctuation">:</span> <span class="token string">'application/x-perfmon'</span><span class="token punctuation">,</span>
    pml<span class="token punctuation">:</span> <span class="token string">'application/x-perfmon'</span><span class="token punctuation">,</span>
    pmr<span class="token punctuation">:</span> <span class="token string">'application/x-perfmon'</span><span class="token punctuation">,</span>
    pmw<span class="token punctuation">:</span> <span class="token string">'application/x-perfmon'</span><span class="token punctuation">,</span>
    pnm<span class="token punctuation">:</span> <span class="token string">'image/x-portable-anymap'</span><span class="token punctuation">,</span>
    pot<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-powerpoint'</span><span class="token punctuation">,</span>
    ppm<span class="token punctuation">:</span> <span class="token string">'image/x-portable-pixmap'</span><span class="token punctuation">,</span>
    pps<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-powerpoint'</span><span class="token punctuation">,</span>
    ppt<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-powerpoint'</span><span class="token punctuation">,</span>
    pptx<span class="token punctuation">:</span>
        <span class="token string">'application/vnd.openxmlformats-officedocument.presentationml.presentation'</span><span class="token punctuation">,</span>
    prf<span class="token punctuation">:</span> <span class="token string">'application/pics-rules'</span><span class="token punctuation">,</span>
    ps<span class="token punctuation">:</span> <span class="token string">'application/postscript'</span><span class="token punctuation">,</span>
    pub<span class="token punctuation">:</span> <span class="token string">'application/x-mspublisher'</span><span class="token punctuation">,</span>
    qt<span class="token punctuation">:</span> <span class="token string">'video/quicktime'</span><span class="token punctuation">,</span>
    ra<span class="token punctuation">:</span> <span class="token string">'audio/x-pn-realaudio'</span><span class="token punctuation">,</span>
    ram<span class="token punctuation">:</span> <span class="token string">'audio/x-pn-realaudio'</span><span class="token punctuation">,</span>
    ras<span class="token punctuation">:</span> <span class="token string">'image/x-cmu-raster'</span><span class="token punctuation">,</span>
    rgb<span class="token punctuation">:</span> <span class="token string">'image/x-rgb'</span><span class="token punctuation">,</span>
    rmi<span class="token punctuation">:</span> <span class="token string">'audio/mid'</span><span class="token punctuation">,</span>
    roff<span class="token punctuation">:</span> <span class="token string">'application/x-troff'</span><span class="token punctuation">,</span>
    rtf<span class="token punctuation">:</span> <span class="token string">'application/rtf'</span><span class="token punctuation">,</span>
    rtx<span class="token punctuation">:</span> <span class="token string">'text/richtext'</span><span class="token punctuation">,</span>
    scd<span class="token punctuation">:</span> <span class="token string">'application/x-msschedule'</span><span class="token punctuation">,</span>
    sct<span class="token punctuation">:</span> <span class="token string">'text/scriptlet'</span><span class="token punctuation">,</span>
    setpay<span class="token punctuation">:</span> <span class="token string">'application/set-payment-initiation'</span><span class="token punctuation">,</span>
    setreg<span class="token punctuation">:</span> <span class="token string">'application/set-registration-initiation'</span><span class="token punctuation">,</span>
    sh<span class="token punctuation">:</span> <span class="token string">'application/x-sh'</span><span class="token punctuation">,</span>
    shar<span class="token punctuation">:</span> <span class="token string">'application/x-shar'</span><span class="token punctuation">,</span>
    sit<span class="token punctuation">:</span> <span class="token string">'application/x-stuffit'</span><span class="token punctuation">,</span>
    snd<span class="token punctuation">:</span> <span class="token string">'audio/basic'</span><span class="token punctuation">,</span>
    spc<span class="token punctuation">:</span> <span class="token string">'application/x-pkcs7-certificates'</span><span class="token punctuation">,</span>
    spl<span class="token punctuation">:</span> <span class="token string">'application/futuresplash'</span><span class="token punctuation">,</span>
    src<span class="token punctuation">:</span> <span class="token string">'application/x-wais-source'</span><span class="token punctuation">,</span>
    sst<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-pkicertstore'</span><span class="token punctuation">,</span>
    stl<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-pkistl'</span><span class="token punctuation">,</span>
    stm<span class="token punctuation">:</span> <span class="token string">'text/html'</span><span class="token punctuation">,</span>
    svg<span class="token punctuation">:</span> <span class="token string">'image/svg+xml'</span><span class="token punctuation">,</span>
    sv4cpio<span class="token punctuation">:</span> <span class="token string">'application/x-sv4cpio'</span><span class="token punctuation">,</span>
    sv4crc<span class="token punctuation">:</span> <span class="token string">'application/x-sv4crc'</span><span class="token punctuation">,</span>
    swf<span class="token punctuation">:</span> <span class="token string">'application/x-shockwave-flash'</span><span class="token punctuation">,</span>
    t<span class="token punctuation">:</span> <span class="token string">'application/x-troff'</span><span class="token punctuation">,</span>
    tar<span class="token punctuation">:</span> <span class="token string">'application/x-tar'</span><span class="token punctuation">,</span>
    tcl<span class="token punctuation">:</span> <span class="token string">'application/x-tcl'</span><span class="token punctuation">,</span>
    tex<span class="token punctuation">:</span> <span class="token string">'application/x-tex'</span><span class="token punctuation">,</span>
    texi<span class="token punctuation">:</span> <span class="token string">'application/x-texinfo'</span><span class="token punctuation">,</span>
    texinfo<span class="token punctuation">:</span> <span class="token string">'application/x-texinfo'</span><span class="token punctuation">,</span>
    tgz<span class="token punctuation">:</span> <span class="token string">'application/x-compressed'</span><span class="token punctuation">,</span>
    tif<span class="token punctuation">:</span> <span class="token string">'image/tiff'</span><span class="token punctuation">,</span>
    tiff<span class="token punctuation">:</span> <span class="token string">'image/tiff'</span><span class="token punctuation">,</span>
    tr<span class="token punctuation">:</span> <span class="token string">'application/x-troff'</span><span class="token punctuation">,</span>
    trm<span class="token punctuation">:</span> <span class="token string">'application/x-msterminal'</span><span class="token punctuation">,</span>
    tsv<span class="token punctuation">:</span> <span class="token string">'text/tab-separated-values'</span><span class="token punctuation">,</span>
    txt<span class="token punctuation">:</span> <span class="token string">'text/plain'</span><span class="token punctuation">,</span>
    uls<span class="token punctuation">:</span> <span class="token string">'text/iuls'</span><span class="token punctuation">,</span>
    ustar<span class="token punctuation">:</span> <span class="token string">'application/x-ustar'</span><span class="token punctuation">,</span>
    vcf<span class="token punctuation">:</span> <span class="token string">'text/x-vcard'</span><span class="token punctuation">,</span>
    vrml<span class="token punctuation">:</span> <span class="token string">'x-world/x-vrml'</span><span class="token punctuation">,</span>
    wav<span class="token punctuation">:</span> <span class="token string">'audio/x-wav'</span><span class="token punctuation">,</span>
    wcm<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-works'</span><span class="token punctuation">,</span>
    wdb<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-works'</span><span class="token punctuation">,</span>
    wks<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-works'</span><span class="token punctuation">,</span>
    wmf<span class="token punctuation">:</span> <span class="token string">'application/x-msmetafile'</span><span class="token punctuation">,</span>
    wps<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-works'</span><span class="token punctuation">,</span>
    wri<span class="token punctuation">:</span> <span class="token string">'application/x-mswrite'</span><span class="token punctuation">,</span>
    wrl<span class="token punctuation">:</span> <span class="token string">'x-world/x-vrml'</span><span class="token punctuation">,</span>
    wrz<span class="token punctuation">:</span> <span class="token string">'x-world/x-vrml'</span><span class="token punctuation">,</span>
    xaf<span class="token punctuation">:</span> <span class="token string">'x-world/x-vrml'</span><span class="token punctuation">,</span>
    xbm<span class="token punctuation">:</span> <span class="token string">'image/x-xbitmap'</span><span class="token punctuation">,</span>
    xla<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-excel'</span><span class="token punctuation">,</span>
    xlc<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-excel'</span><span class="token punctuation">,</span>
    xlm<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-excel'</span><span class="token punctuation">,</span>
    xls<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-excel'</span><span class="token punctuation">,</span>
    xlsx<span class="token punctuation">:</span> <span class="token string">'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'</span><span class="token punctuation">,</span>
    xlt<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-excel'</span><span class="token punctuation">,</span>
    xlw<span class="token punctuation">:</span> <span class="token string">'application/vnd.ms-excel'</span><span class="token punctuation">,</span>
    xof<span class="token punctuation">:</span> <span class="token string">'x-world/x-vrml'</span><span class="token punctuation">,</span>
    xpm<span class="token punctuation">:</span> <span class="token string">'image/x-xpixmap'</span><span class="token punctuation">,</span>
    xwd<span class="token punctuation">:</span> <span class="token string">'image/x-xwindowdump'</span><span class="token punctuation">,</span>
    z<span class="token punctuation">:</span> <span class="token string">'application/x-compress'</span><span class="token punctuation">,</span>
    zip<span class="token punctuation">:</span> <span class="token string">'application/zip'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="oct"><a href="#oct" aria-hidden="true" class="header-anchor">#</a> Oct</h2> <h3 id="获取后台暴露在响应头里的信息"><a href="#获取后台暴露在响应头里的信息" aria-hidden="true" class="header-anchor">#</a> 获取后台暴露在响应头里的信息</h3> <p>需要后台设置<code>response.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Authorization&quot;);</code></p> <h2 id="august"><a href="#august" aria-hidden="true" class="header-anchor">#</a> August</h2> <h3 id="element-组件-el-tabs-导致页面崩溃"><a href="#element-组件-el-tabs-导致页面崩溃" aria-hidden="true" class="header-anchor">#</a> element 组件 el-tabs 导致页面崩溃</h3> <p>建议升级 vue 版本到 2.6.0 以上(vue-template-compiler 也要同步)</p> <h3 id="render-函数中给标签添加动态多类名写法："><a href="#render-函数中给标签添加动态多类名写法：" aria-hidden="true" class="header-anchor">#</a> render 函数中给标签添加动态多类名写法：</h3> <p><code>class={[</code>${&quot;panel-font-&quot; + depth}<code>, this.config === &quot;json&quot; ? &quot;font-bold&quot; : &quot;&quot;]}</code></p> <h2 id="july"><a href="#july" aria-hidden="true" class="header-anchor">#</a> July</h2> <h3 id="tomcat-异常被关闭"><a href="#tomcat-异常被关闭" aria-hidden="true" class="header-anchor">#</a> tomcat 异常被关闭</h3> <p>情况 1：tomcat 配置的端口号与其他 tomcat 相同，被他人关闭了</p> <ul><li>tomcat
<ul><li>conf
<ul><li>server.xml</li></ul></li></ul></li></ul> <p>这个 server.xml 中配置的 port 与其他 tomcat 相同，所以被关掉了</p> <h2 id="jane"><a href="#jane" aria-hidden="true" class="header-anchor">#</a> Jane</h2> <h3 id="常见验证"><a href="#常见验证" aria-hidden="true" class="header-anchor">#</a> 常见验证</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">checkStr</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;phone&quot;</span><span class="token punctuation">:</span> <span class="token comment">//手机号码</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token number">1</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token operator">|</span><span class="token number">5</span><span class="token operator">|</span><span class="token number">6</span><span class="token operator">|</span><span class="token number">7</span><span class="token operator">|</span><span class="token number">8</span><span class="token operator">|</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">9</span><span class="token punctuation">}</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;tel&quot;</span><span class="token punctuation">:</span> <span class="token comment">//座机</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token number">0</span>\d<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">-</span>\d<span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">-</span>\d<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">?</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;card&quot;</span><span class="token punctuation">:</span> <span class="token comment">//身份证</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">^</span>\d<span class="token punctuation">{</span><span class="token number">15</span><span class="token punctuation">}</span>$<span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span><span class="token operator">^</span>\d<span class="token punctuation">{</span><span class="token number">18</span><span class="token punctuation">}</span>$<span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span><span class="token operator">^</span>\d<span class="token punctuation">{</span><span class="token number">17</span><span class="token punctuation">}</span><span class="token punctuation">(</span>\d<span class="token operator">|</span><span class="token constant">X</span><span class="token operator">|</span>x<span class="token punctuation">)</span>$<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;pwd&quot;</span><span class="token punctuation">:</span> <span class="token comment">//密码以字母开头，长度在6~18之间，只能包含字母、数字和下划线</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z</span><span class="token punctuation">]</span>\w<span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">}</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;postal&quot;</span><span class="token punctuation">:</span> <span class="token comment">//邮政编码</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span>\d<span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">!</span>\d<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;QQ&quot;</span><span class="token punctuation">:</span> <span class="token comment">//QQ号</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">}</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token comment">//邮箱</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span>\w<span class="token operator">-</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span><span class="token punctuation">[</span>\w<span class="token operator">-</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">*</span>@<span class="token punctuation">[</span>\w<span class="token operator">-</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span><span class="token punctuation">[</span>\w<span class="token operator">-</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">+</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;money&quot;</span><span class="token punctuation">:</span> <span class="token comment">//金额(小数点2位)</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span>\d<span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token punctuation">:</span>\<span class="token punctuation">.</span>\d<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">?</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;URL&quot;</span><span class="token punctuation">:</span> <span class="token comment">//网址</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token punctuation">(</span>http<span class="token operator">|</span>ftp<span class="token operator">|</span>https<span class="token punctuation">)</span><span class="token punctuation">:</span>\<span class="token regex">/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>
        str
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;IP&quot;</span><span class="token punctuation">:</span> <span class="token comment">//IP</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token number">25</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">|</span><span class="token number">2</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>\\d<span class="token operator">|</span><span class="token punctuation">[</span><span class="token number">01</span><span class="token punctuation">]</span><span class="token operator">?</span>\\d<span class="token operator">?</span>\\d<span class="token punctuation">)</span>\\<span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token number">25</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">|</span><span class="token number">2</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>\\d<span class="token operator">|</span><span class="token punctuation">[</span><span class="token number">01</span><span class="token punctuation">]</span><span class="token operator">?</span>\\d<span class="token operator">?</span>\\d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>
        str
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;date&quot;</span><span class="token punctuation">:</span> <span class="token comment">//日期时间</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token regex">/^(\d{4})\-(\d{2})\-(\d{2}) (\d{2})(?:\:\d{2}|:(\d{2}):(\d{2}))$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>
          str
        <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token regex">/^(\d{4})\-(\d{2})\-(\d{2})$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">:</span> <span class="token comment">//数字</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;english&quot;</span><span class="token punctuation">:</span> <span class="token comment">//英文</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z</span><span class="token punctuation">]</span><span class="token operator">+</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;chinese&quot;</span><span class="token punctuation">:</span> <span class="token comment">//中文</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span>\\u4E00<span class="token operator">-</span>\\u9FA5<span class="token punctuation">]</span><span class="token operator">+</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;lower&quot;</span><span class="token punctuation">:</span> <span class="token comment">//小写</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span><span class="token operator">+</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;upper&quot;</span><span class="token punctuation">:</span> <span class="token comment">//大写</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span><span class="token constant">A</span><span class="token operator">-</span><span class="token constant">Z</span><span class="token punctuation">]</span><span class="token operator">+</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;HTML&quot;</span><span class="token punctuation">:</span> <span class="token comment">//HTML标记</span>
      <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token string">&quot;[^&quot;</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token string">&quot;|'[^']*'|[^'&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 身份证 信息验证</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">isCardID</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">sId</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex">/(^\d{15}$)|(^\d{17}(\d|X|x)$)/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>sId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;你输入的身份证长度或格式错误&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//身份证城市</span>
  <span class="token keyword">var</span> aCity <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">11</span><span class="token punctuation">:</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span>
    <span class="token number">12</span><span class="token punctuation">:</span> <span class="token string">&quot;天津&quot;</span><span class="token punctuation">,</span>
    <span class="token number">13</span><span class="token punctuation">:</span> <span class="token string">&quot;河北&quot;</span><span class="token punctuation">,</span>
    <span class="token number">14</span><span class="token punctuation">:</span> <span class="token string">&quot;山西&quot;</span><span class="token punctuation">,</span>
    <span class="token number">15</span><span class="token punctuation">:</span> <span class="token string">&quot;内蒙古&quot;</span><span class="token punctuation">,</span>
    <span class="token number">21</span><span class="token punctuation">:</span> <span class="token string">&quot;辽宁&quot;</span><span class="token punctuation">,</span>
    <span class="token number">22</span><span class="token punctuation">:</span> <span class="token string">&quot;吉林&quot;</span><span class="token punctuation">,</span>
    <span class="token number">23</span><span class="token punctuation">:</span> <span class="token string">&quot;黑龙江&quot;</span><span class="token punctuation">,</span>
    <span class="token number">31</span><span class="token punctuation">:</span> <span class="token string">&quot;上海&quot;</span><span class="token punctuation">,</span>
    <span class="token number">32</span><span class="token punctuation">:</span> <span class="token string">&quot;江苏&quot;</span><span class="token punctuation">,</span>
    <span class="token number">33</span><span class="token punctuation">:</span> <span class="token string">&quot;浙江&quot;</span><span class="token punctuation">,</span>
    <span class="token number">34</span><span class="token punctuation">:</span> <span class="token string">&quot;安徽&quot;</span><span class="token punctuation">,</span>
    <span class="token number">35</span><span class="token punctuation">:</span> <span class="token string">&quot;福建&quot;</span><span class="token punctuation">,</span>
    <span class="token number">36</span><span class="token punctuation">:</span> <span class="token string">&quot;江西&quot;</span><span class="token punctuation">,</span>
    <span class="token number">37</span><span class="token punctuation">:</span> <span class="token string">&quot;山东&quot;</span><span class="token punctuation">,</span>
    <span class="token number">41</span><span class="token punctuation">:</span> <span class="token string">&quot;河南&quot;</span><span class="token punctuation">,</span>
    <span class="token number">42</span><span class="token punctuation">:</span> <span class="token string">&quot;湖北&quot;</span><span class="token punctuation">,</span>
    <span class="token number">43</span><span class="token punctuation">:</span> <span class="token string">&quot;湖南&quot;</span><span class="token punctuation">,</span>
    <span class="token number">44</span><span class="token punctuation">:</span> <span class="token string">&quot;广东&quot;</span><span class="token punctuation">,</span>
    <span class="token number">45</span><span class="token punctuation">:</span> <span class="token string">&quot;广西&quot;</span><span class="token punctuation">,</span>
    <span class="token number">46</span><span class="token punctuation">:</span> <span class="token string">&quot;海南&quot;</span><span class="token punctuation">,</span>
    <span class="token number">50</span><span class="token punctuation">:</span> <span class="token string">&quot;重庆&quot;</span><span class="token punctuation">,</span>
    <span class="token number">51</span><span class="token punctuation">:</span> <span class="token string">&quot;四川&quot;</span><span class="token punctuation">,</span>
    <span class="token number">52</span><span class="token punctuation">:</span> <span class="token string">&quot;贵州&quot;</span><span class="token punctuation">,</span>
    <span class="token number">53</span><span class="token punctuation">:</span> <span class="token string">&quot;云南&quot;</span><span class="token punctuation">,</span>
    <span class="token number">54</span><span class="token punctuation">:</span> <span class="token string">&quot;西藏&quot;</span><span class="token punctuation">,</span>
    <span class="token number">61</span><span class="token punctuation">:</span> <span class="token string">&quot;陕西&quot;</span><span class="token punctuation">,</span>
    <span class="token number">62</span><span class="token punctuation">:</span> <span class="token string">&quot;甘肃&quot;</span><span class="token punctuation">,</span>
    <span class="token number">63</span><span class="token punctuation">:</span> <span class="token string">&quot;青海&quot;</span><span class="token punctuation">,</span>
    <span class="token number">64</span><span class="token punctuation">:</span> <span class="token string">&quot;宁夏&quot;</span><span class="token punctuation">,</span>
    <span class="token number">65</span><span class="token punctuation">:</span> <span class="token string">&quot;新疆&quot;</span><span class="token punctuation">,</span>
    <span class="token number">71</span><span class="token punctuation">:</span> <span class="token string">&quot;台湾&quot;</span><span class="token punctuation">,</span>
    <span class="token number">81</span><span class="token punctuation">:</span> <span class="token string">&quot;香港&quot;</span><span class="token punctuation">,</span>
    <span class="token number">82</span><span class="token punctuation">:</span> <span class="token string">&quot;澳门&quot;</span><span class="token punctuation">,</span>
    <span class="token number">91</span><span class="token punctuation">:</span> <span class="token string">&quot;国外&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>aCity<span class="token punctuation">[</span><span class="token function">parseInt</span><span class="token punctuation">(</span>sId<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;你的身份证地区非法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 出生日期验证</span>
  <span class="token keyword">var</span> sBirthday <span class="token operator">=</span> <span class="token punctuation">(</span>
      sId<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span>
      <span class="token function">Number</span><span class="token punctuation">(</span>sId<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span>
      <span class="token function">Number</span><span class="token punctuation">(</span>sId<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/-/g</span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>sBirthday<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>
    sBirthday <span class="token operator">!=</span>
    d<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> d<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;身份证上的出生日期非法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 身份证号码校验</span>
  <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    weights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    codes <span class="token operator">=</span> <span class="token string">&quot;10X98765432&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sId<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+=</span> sId<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> weights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> last <span class="token operator">=</span> codes<span class="token punctuation">[</span>sum <span class="token operator">%</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//计算出来的最后一位身份证号码</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sId<span class="token punctuation">[</span>sId<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> last<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;你输入的身份证号非法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="may"><a href="#may" aria-hidden="true" class="header-anchor">#</a> May</h2> <h3 id="远程服务器查看-tomcat-是否启动"><a href="#远程服务器查看-tomcat-是否启动" aria-hidden="true" class="header-anchor">#</a> 远程服务器查看 tomcat 是否启动</h3> <p>步骤：</p> <ul><li>打开终端</li> <li>输入<code>sudo ssh -i /Users/linjy/A_Yolanda/Dist/DME/distdata.pem root@52.83.214.66 -p 15874</code></li> <li>输入<code>cd /</code></li> <li>输入<code>ls</code> 查找到 tomcat 所在目录如 opt/tomcat-dme-web/</li> <li>输入<code>cd opt/tomcat-dme-web/bin/</code></li> <li>输入<code>ls</code> 查找 startup.sh</li> <li>输入<code>ps -ef|grep java</code> 检查 tomcat 是否已经启动，若没有启动</li> <li>输入<code>sh startup.sh</code></li></ul> <h2 id="april"><a href="#april" aria-hidden="true" class="header-anchor">#</a> April</h2> <h3 id="图片-url-下载的兼容方式"><a href="#图片-url-下载的兼容方式" aria-hidden="true" class="header-anchor">#</a> 图片 url 下载的兼容方式</h3> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> responseType<span class="token punctuation">:</span> <span class="token string">&quot;blob&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>imgLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> fileName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;image/jpeg&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fileName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.jpg</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>chrome <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Chrome</span>
        <span class="token keyword">const</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        link<span class="token punctuation">.</span>href <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        link<span class="token punctuation">.</span>download <span class="token operator">=</span> fileName<span class="token punctuation">;</span>
        link<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 释放内存</span>
        window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span>link<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>msSaveBlob <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// IE</span>
        <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>res<span class="token punctuation">.</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          type<span class="token punctuation">:</span> <span class="token string">&quot;application/force-download&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span><span class="token function">msSaveBlob</span><span class="token punctuation">(</span>blob<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// Firefox</span>
        <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token punctuation">[</span>res<span class="token punctuation">.</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span> fileName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          type<span class="token punctuation">:</span> <span class="token string">&quot;application/force-download&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="if-else-if-else-优化"><a href="#if-else-if-else-优化" aria-hidden="true" class="header-anchor">#</a> if...else if...else 优化</h3> <p>项目中经常会遇到判断逻辑，常常会用到<code>if...else...</code>,如果不想层级太多，难以维护，一般情况我们会选择用 switch 语句，如下例子：
用一个 <code>returnDay()</code> 方法返回‘今天是星期几’</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用if else</span>
<span class="token function">returnDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token string">'今天星期'</span>
  <span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>date <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    string <span class="token operator">+=</span> <span class="token string">'日'</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>date <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    string <span class="token operator">+=</span> <span class="token string">'一'</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>date <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    string <span class="token operator">+=</span> <span class="token string">'二'</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">return</span> string
<span class="token punctuation">}</span>

<span class="token comment">// 使用 switch{} 语句</span>
<span class="token function">returnDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">switch</span> <span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span>
      string <span class="token operator">+=</span> <span class="token string">'日'</span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
      string <span class="token operator">+=</span> <span class="token string">'一'</span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
      string <span class="token operator">+=</span> <span class="token string">'二'</span>
      <span class="token keyword">break</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
      <span class="token keyword">break</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> string
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 优化</span>
<span class="token function">returnDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token string">'今天星期'</span>
  <span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// 使用数组</span>
  <span class="token keyword">const</span> dateArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'天'</span><span class="token punctuation">,</span><span class="token string">'一'</span><span class="token punctuation">,</span><span class="token string">'二'</span><span class="token punctuation">,</span><span class="token string">'三'</span><span class="token punctuation">,</span><span class="token string">'四'</span><span class="token punctuation">,</span><span class="token string">'五'</span><span class="token punctuation">,</span><span class="token string">'六'</span><span class="token punctuation">]</span>
  <span class="token comment">// 或使用对象</span>
  <span class="token keyword">const</span> dateArr <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">'天'</span><span class="token punctuation">,</span>
    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'一'</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">'二'</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token punctuation">:</span> <span class="token string">'三'</span><span class="token punctuation">,</span>
    <span class="token number">4</span><span class="token punctuation">:</span> <span class="token string">'四'</span><span class="token punctuation">,</span>
    <span class="token number">5</span><span class="token punctuation">:</span> <span class="token string">'五'</span><span class="token punctuation">,</span>
    <span class="token number">6</span><span class="token punctuation">:</span> <span class="token string">'六'</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> string <span class="token operator">+</span> dateArr<span class="token punctuation">[</span>date<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>多重条件判断还可以使用<code>includes</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> <span class="token number">202</span> <span class="token operator">||</span> code <span class="token operator">===</span> <span class="token number">203</span> <span class="token operator">||</span> code <span class="token operator">===</span> <span class="token number">204</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//</span>
<span class="token punctuation">}</span>
<span class="token comment">// 可以改成</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">202</span><span class="token punctuation">,</span> <span class="token number">203</span><span class="token punctuation">,</span> <span class="token number">204</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取响应头中的-authorization"><a href="#获取响应头中的-authorization" aria-hidden="true" class="header-anchor">#</a> 获取响应头中的 Authorization</h3> <p>需要后端同时设置 <code>Access-Control-Expose-Headers : 'Authorization'</code></p> <p>这样才是设置成功了，前端才能读取：
<img src="/Notebook/assets/img/Authorization.ceb31554.png" alt=""></p> <p>如何在请求头中加入以上读取到的 Authorization</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// 拦截器</span>
  <span class="token function">interceptors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 请求拦截</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
      <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 判断vuex中是否存在Authorization</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>authorization<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 请求头携带token</span>
          config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>Authorization <span class="token operator">=</span> store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>authorization
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> config
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token parameter">error</span> <span class="token operator">=&gt;</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token comment">// 请求失败</span>
    <span class="token punctuation">)</span>
    <span class="token comment">// 响应拦截</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
      <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> status<span class="token punctuation">,</span> data<span class="token punctuation">,</span> headers <span class="token punctuation">}</span> <span class="token operator">=</span> response
        <span class="token keyword">const</span> authorization <span class="token operator">=</span> headers<span class="token punctuation">.</span>authorization <span class="token operator">?</span> headers<span class="token punctuation">.</span>authorization <span class="token punctuation">:</span> <span class="token keyword">null</span>
        store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'appConfig/SET_AUTHORIZATION'</span><span class="token punctuation">,</span> authorization<span class="token punctuation">)</span>
        <span class="token comment">// 不直接写data.code === 1000的原因是下载类接口没有任何代码</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token number">2000</span> <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token number">3000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token parameter">error</span> <span class="token operator">=&gt;</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="表单验证失败（拿不到-value-值）或输入框无法输入数据"><a href="#表单验证失败（拿不到-value-值）或输入框无法输入数据" aria-hidden="true" class="header-anchor">#</a> 表单验证失败（拿不到 value 值）或输入框无法输入数据</h3> <p>原因可能是：
表单绑定的对象上没有这个需要验证的属性或输入框绑定的值，如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>formData<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>rules<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>名称<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>formData.name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>年龄<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>formData.age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>性别<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>formData.sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        formData<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          name<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
          age<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
          <span class="token comment">// sex : '' // 如果这里没有sex 会出现验证失败和输入框无法输入的问题</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="span-标签内容是英文时，不会自动换行"><a href="#span-标签内容是英文时，不会自动换行" aria-hidden="true" class="header-anchor">#</a> span 标签内容是英文时，不会自动换行</h3> <p>原因：
span 不是块状元素，本身自带有<strong>左浮动</strong>效果，连续的英文和数字是不会自动换行
解决：
设置：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token property">word-wrap</span><span class="token punctuation">:</span> break-word<span class="token punctuation">;</span>
<span class="token property">white-space</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
</code></pre></div><h2 id="march"><a href="#march" aria-hidden="true" class="header-anchor">#</a> March</h2> <h3 id="iview-表格宽度自适应"><a href="#iview-表格宽度自适应" aria-hidden="true" class="header-anchor">#</a> iview 表格宽度自适应</h3> <p>思路：给表格一个外容器，根据外容器的宽度自适应</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>table-container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tableContent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">:columns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>colums<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ysjTable<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code>  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">private</span> <span class="token function">handleResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>tableContent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>tableHeight <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>tableContent <span class="token keyword">as</span> Element<span class="token punctuation">)</span><span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="表格行数据进行上下移操作"><a href="#表格行数据进行上下移操作" aria-hidden="true" class="header-anchor">#</a> 表格行数据进行上下移操作</h3> <div class="language-ts extra-class"><pre class="language-ts"><code>  <span class="token keyword">private</span> <span class="token function">handleUpDown</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>upDownOper <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> upDownOper<span class="token punctuation">,</span> ysjTable<span class="token punctuation">,</span> selection <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>selection<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>upDownOper <span class="token operator">===</span> <span class="token string">&quot;up&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        selection<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">row<span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> index <span class="token operator">=</span> ysjTable<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>name <span class="token operator">===</span> row<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ysjTable<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ysjTable<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>upDownOper <span class="token operator">===</span> <span class="token string">&quot;down&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        selection<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">row<span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> index <span class="token operator">=</span> ysjTable<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>name <span class="token operator">===</span> row<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">!==</span> ysjTable<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ysjTable<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ysjTable<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-13-版-iview-树形表格动态添加子节点报错失效问题"><a href="#_4-13-版-iview-树形表格动态添加子节点报错失效问题" aria-hidden="true" class="header-anchor">#</a> 4.13 版 iview 树形表格动态添加子节点报错失效问题</h3> <p>一般情况下会拿到行数据<code>row</code>去添加我们的子节点，但是这种情况下，iview 会直接报错</p> <p>原因是：这种情况下添加的子节点没有生成对应的_index, _rowKey 属性而导致报错
<img src="/Notebook/assets/img/iview-dynamic-node.32b80073.png" alt=""> <img src="/Notebook/assets/img/iview-dynamic-add-node.e6bce6c1.png" alt=""></p> <p>需要直接拿到 row 的 index 值 然后从总数据上添加</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> temp <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>keyName<span class="token punctuation">,</span>
  id<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tableLength<span class="token punctuation">,</span>
  _showChildren<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>tabelData<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>rowIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>iview 树形结构的 table index 序号不是按每行递增 子节点会以父节点为 0 递增</p> <h3 id="新版-chrome-携带-cookie-问题"><a href="#新版-chrome-携带-cookie-问题" aria-hidden="true" class="header-anchor">#</a> 新版 Chrome 携带 Cookie 问题</h3> <p>即使设置了<code>axios.defaults.withCredentials = true</code> 请求还是无法正常携带 Cookie。发现警告：
<img src="/Notebook/assets/img/chrome-error.1a6b2e15.png" alt=""></p> <p>原来是新版 Chorme 的问题，只能暂时禁用这些功能：
<img src="/Notebook/assets/img/chrome-asset.483a7841.png" alt=""></p> <p>需要后台重新设置配置，才能让请求正常携带 Cookie</p> <p><a href="https://blog.csdn.net/jILRvRTrc/article/details/104404380" target="_blank" rel="noopener noreferrer">SameSite Cookie 变更：您需要了解的都在这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="february"><a href="#february" aria-hidden="true" class="header-anchor">#</a> February</h2> <h3 id="blob-转成-file"><a href="#blob-转成-file" aria-hidden="true" class="header-anchor">#</a> blob 转成 file</h3> <p>截图生成的<code>blob</code>对象需要转成<code>file</code>后上传</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// this.cropImg 就是一个blob对象</span>
<span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>File</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>cropImg<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cropImg<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cropImg<span class="token punctuation">.</span>type<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
file<span class="token punctuation">.</span>uid <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fileInfo<span class="token punctuation">.</span>uid<span class="token punctuation">;</span>
<span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="object-defineproperty-数据劫持"><a href="#object-defineproperty-数据劫持" aria-hidden="true" class="header-anchor">#</a> Object.defineProperty 数据劫持</h3> <p>虽然日常开发中比较少用到这个方法，但 Vue 却是利用这个 ES5 的方法实现了数据响应变化(待处理)</p> <h3 id="使用-canvas-实现用户头像上传"><a href="#使用-canvas-实现用户头像上传" aria-hidden="true" class="header-anchor">#</a> 使用 canvas 实现用户头像上传</h3> <p><strong>基础 API</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>drawing<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>drawing<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>A drawing of something<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span>
<span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> drawing <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>drawing<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 获取 2D 上下文</span>
  <span class="token keyword">const</span> context <span class="token operator">=</span> drawing<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// toDataURL() 导出 canvas 元素上绘制的图像</span>

  <span class="token comment">// 填充颜色为红色</span>
  context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 边框颜色为蓝色</span>
  context<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;rgba(0,0,255,0.5)&quot;</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 清除画布上的矩形区域</span>
  context<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 开始绘制新路径，必须</span>
  context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 绘制外圆</span>
  context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 绘制内圆</span>
  context<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">194</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 绘制分针</span>
  context<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 绘制时针</span>
  context<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 描边路径，必须</span>
  context<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 绘制文本</span>
  context<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;bold 14px Arial&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 参数：文本样式、大小、字体</span>
  context<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 文本水平对齐方式：start、center、end</span>
  context<span class="token punctuation">.</span>testBaseline <span class="token operator">=</span> <span class="token string">&quot;middle&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 文本垂直对齐方式：top、middle、bottom、hanging、alphabetic、ideographic</span>
  context<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">&quot;12&quot;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 参数：文本字符串、x坐标、y坐标、可选的最大像素高度</span>

  <span class="token comment">// 坐标原点变换</span>
  context<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 保存上下文的状态 save()</span>
  context<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 回退上一级上下文的设置状态 restore()</span>
  context<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>绘制图像</strong>：利用<code>drawImage</code>将图像绘制到画布上</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> drawing<span class="token punctuation">,</span> sourceImg <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">;</span>
<span class="token keyword">const</span> imgObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
imgObject<span class="token punctuation">.</span>src <span class="token operator">=</span> sourceImg<span class="token punctuation">.</span>src<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>drawing<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> context <span class="token operator">=</span> drawing<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 绘制图像方法 参数：源图像对象、源图像x坐标、源图像y坐标、源图像宽度、源图像高度、目标图像x坐标、目标图像y坐标、目标图像宽度、目标图像高度</span>
<span class="token punctuation">}</span>
</code></pre></div><p>一个上传用户头像的小栗子：（三部分: template、script、css)</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>component-container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas-img-preview<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sourceImg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>crop-container<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>cropContainer<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@dragstart</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stopDrag<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@mousedown.stop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>initMove<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>zoom-button<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>zoomButton<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@dragstart</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stopDrag<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@mousedown.stop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>initZoom<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>口<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>
      <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>crop-canvas<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>cropCanvas<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@dragstart</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stopDrag<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// export default {</span>
  name<span class="token punctuation">:</span> <span class="token string">'xz-crop'</span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    imageUrl<span class="token punctuation">:</span> String<span class="token punctuation">,</span> <span class="token comment">// 传入文件url</span>
    getCropImgBlob<span class="token punctuation">:</span> Function <span class="token comment">// 返回裁剪后的文件(blob)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      sourceImgWidth<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 被剪切照片容器宽度</span>
      sourceImgHeight<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 被剪切照片容器高度</span>
      cropCanvasWidth<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 裁剪框的宽度</span>
      cropCanvasHeight<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 裁剪框的高度</span>
      cropOffsetImgLeft<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 裁剪框距离sourceImg的left</span>
      cropOffsetImgTop<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 裁剪框距离sourceImg的top</span>
      targetImg<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 裁剪后的目标图片</span>
      targetImgWidth<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 目标宽度</span>
      targetImgHeigth<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 目标高度</span>
      targetImgLeft<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 目标左位移</span>
      targetImgTop<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 目标上位移</span>
      cropContext<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 2D上下文对象</span>
      imageObj<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 照片对象</span>
      blankHeight<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 组件上下空白高度</span>
      blankWidth<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 组件左右空白高度</span>
      lock<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否锁定裁剪框大小</span>
      crop<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 移动剪切框必要数据</span>
      zoom<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 缩放剪切框必要数据</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 监听图片URL以进行更新</span>
    <span class="token function">imageUrl</span><span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>imageObj<span class="token punctuation">.</span>src <span class="token operator">=</span> newValue
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// toBlob()方法的Polyfill</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">HTMLCanvasElement</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toBlob<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">HTMLCanvasElement</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'toBlob'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token function">value</span><span class="token punctuation">(</span><span class="token parameter">callback<span class="token punctuation">,</span> type<span class="token punctuation">,</span> quality</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> binStr <span class="token operator">=</span> <span class="token function">atob</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> quality<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">const</span> len <span class="token operator">=</span> binStr<span class="token punctuation">.</span>length
            <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> binStr<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>arr<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> type <span class="token operator">||</span> <span class="token string">'image/png'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span>imageObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>imageUrl <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>targetImg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span> <span class="token comment">// 创建导出图片所用canvas</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>imageObj<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>imageUrl
        <span class="token keyword">this</span><span class="token punctuation">.</span>imageObj<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> <span class="token punctuation">{</span>
            cropCanvas<span class="token punctuation">,</span> container<span class="token punctuation">,</span> sourceImg<span class="token punctuation">,</span> cropContainer
          <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs
          <span class="token keyword">const</span> <span class="token punctuation">{</span> width<span class="token punctuation">,</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>imageObj
          <span class="token keyword">const</span> sourceWidth <span class="token operator">=</span> width <span class="token operator">/</span> <span class="token punctuation">(</span>height <span class="token operator">/</span> container<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span>
          <span class="token keyword">const</span> sourceHeight <span class="token operator">=</span> height <span class="token operator">/</span> <span class="token punctuation">(</span>width <span class="token operator">/</span> container<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>sourceImgWidth <span class="token operator">=</span> width <span class="token operator">&gt;</span> height <span class="token operator">?</span> container<span class="token punctuation">.</span>offsetWidth <span class="token punctuation">:</span> sourceWidth
          <span class="token keyword">this</span><span class="token punctuation">.</span>sourceImgHeight <span class="token operator">=</span> height <span class="token operator">&gt;</span> width <span class="token operator">?</span> container<span class="token punctuation">.</span>offsetHeight <span class="token punctuation">:</span> sourceHeight

          <span class="token comment">// 设置源图像的宽高</span>
          sourceImg<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sourceImgWidth <span class="token comment">// 通过vue的响应系统太慢，不如直接写入,类似皆是相同原理</span>
          sourceImg<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sourceImgHeight

          <span class="token keyword">const</span> <span class="token punctuation">{</span> sourceImgWidth<span class="token punctuation">,</span> sourceImgHeight <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>

          <span class="token comment">// 计算左右、上下空白的高度(单个纯黑色区域)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>blankWidth <span class="token operator">=</span> <span class="token punctuation">(</span>container<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> sourceImgWidth<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>blankHeight <span class="token operator">=</span> <span class="token punctuation">(</span>container<span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> sourceImgHeight<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>

          <span class="token comment">// 记录并设置裁剪框大小</span>
          <span class="token keyword">const</span> <span class="token punctuation">{</span> blankHeight<span class="token punctuation">,</span> blankWidth <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>width <span class="token operator">&gt;</span> height<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 当宽大于高时，以高为边作正方形裁剪框</span>
            sourceImg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>blankHeight<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasWidth <span class="token operator">=</span> sourceImgHeight <span class="token operator">-</span> <span class="token number">2</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasHeight <span class="token operator">=</span> sourceImgHeight <span class="token operator">-</span> <span class="token number">2</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">// 当高大于宽时，以宽为边作正方形裁剪框</span>
            sourceImg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>blankWidth<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasWidth <span class="token operator">=</span> sourceImgWidth <span class="token operator">-</span> <span class="token number">2</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasHeight <span class="token operator">=</span> sourceImgWidth <span class="token operator">-</span> <span class="token number">2</span>
          <span class="token punctuation">}</span>

          <span class="token comment">// 设置裁剪框的宽高</span>
          cropCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasWidth
          cropCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasHeight

          <span class="token comment">// 获取裁剪框二维上下文对象</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>cropContext <span class="token operator">=</span> cropCanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>

          <span class="token comment">// canvasImg设定高度完成后</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// 展示源image的缩放图作为底图</span>
            sourceImg
              <span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>imageObj<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> sourceImgWidth<span class="token punctuation">,</span> sourceImgHeight<span class="token punctuation">)</span>

            <span class="token keyword">const</span> <span class="token punctuation">{</span> cropCanvasHeight<span class="token punctuation">,</span> cropCanvasWidth <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>

            <span class="token comment">// 计算并设置裁剪框容器的偏移位置</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>cropOffsetImgTop <span class="token operator">=</span> <span class="token punctuation">(</span>sourceImgHeight <span class="token operator">-</span> cropCanvasHeight<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>cropOffsetImgLeft <span class="token operator">=</span> <span class="token punctuation">(</span>sourceImgWidth <span class="token operator">-</span> cropCanvasWidth<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>
            cropContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>blankHeight <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cropOffsetImgTop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>
            cropContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>blankWidth <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cropOffsetImgLeft<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>

            <span class="token comment">// 渲染裁剪框图片</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderCanvasCrop</span><span class="token punctuation">(</span>sourceImg<span class="token punctuation">)</span>
            <span class="token comment">// 渲染裁剪目标框图片(实际想要的裁剪图片)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderTargetImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token comment">// 获取裁剪后的图片</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCropImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseup'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>clearAndGet<span class="token punctuation">)</span> <span class="token comment">// 松开鼠标清空部分数据以及获取裁剪后的图片</span>
      window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>moveZoomCrop<span class="token punctuation">)</span> <span class="token comment">// (在当前sourceImg内点击时)移动鼠标时移动或缩放剪切框</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * @msg: 移动缩放框
     */</span>
    <span class="token function">moveZoomCrop</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span>
        container<span class="token punctuation">,</span> sourceImg<span class="token punctuation">,</span> cropContainer<span class="token punctuation">,</span> cropCanvas
      <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs

      <span class="token keyword">const</span> <span class="token punctuation">{</span>
        zoom<span class="token punctuation">,</span> crop<span class="token punctuation">,</span> blankHeight<span class="token punctuation">,</span> blankWidth
      <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>

      <span class="token keyword">const</span> <span class="token punctuation">{</span> sourceImgWidth<span class="token punctuation">,</span> sourceImgHeight <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>
      <span class="token comment">// 移动</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>crop<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 计算鼠标按下后的移动X\Y距离</span>
        <span class="token keyword">const</span> moveX <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX <span class="token operator">-</span> crop<span class="token punctuation">.</span>mouseDownX
        <span class="token keyword">const</span> moveY <span class="token operator">=</span> e<span class="token punctuation">.</span>clientY <span class="token operator">-</span> crop<span class="token punctuation">.</span>mouseDownY

        <span class="token keyword">let</span> cropConLeft <span class="token operator">=</span> crop<span class="token punctuation">.</span>cropConOffsetLeft <span class="token operator">+</span> moveX
        <span class="token keyword">let</span> cropConTop <span class="token operator">=</span> crop<span class="token punctuation">.</span>cropConOffsetTop <span class="token operator">+</span> moveY

        <span class="token comment">// 不允许移出框外</span>
        <span class="token comment">// 当宽大于高时</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>sourceImgWidth <span class="token operator">&gt;</span> sourceImgHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>cropConLeft <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> cropConLeft <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// 左边界</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>cropConTop <span class="token operator">&lt;</span> sourceImg<span class="token punctuation">.</span>offsetTop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 上边界</span>
            cropConTop <span class="token operator">=</span> sourceImg<span class="token punctuation">.</span>offsetTop
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">// 当高大于宽时</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>cropConTop <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> cropConTop <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// 上边界</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>cropConLeft <span class="token operator">&lt;</span> sourceImg<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 左边界</span>
            cropConLeft <span class="token operator">=</span> sourceImg<span class="token punctuation">.</span>offsetLeft
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">const</span> maxTop <span class="token operator">=</span> container<span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> cropCanvas<span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> blankHeight
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cropConTop <span class="token operator">&gt;</span> maxTop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          cropConTop <span class="token operator">=</span> maxTop
        <span class="token punctuation">}</span>
        <span class="token keyword">const</span> maxLeft <span class="token operator">=</span> container<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> cropCanvas<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> blankWidth
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cropConLeft <span class="token operator">&gt;</span> maxLeft<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          cropConLeft <span class="token operator">=</span> maxLeft
        <span class="token punctuation">}</span>

        <span class="token comment">// 设置裁剪框容器的位置并记录备用</span>
        cropContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cropConLeft<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>
        cropContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cropConTop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cropOffsetImgTop <span class="token operator">=</span> cropConTop <span class="token operator">-</span> blankHeight
        <span class="token keyword">this</span><span class="token punctuation">.</span>cropOffsetImgLeft <span class="token operator">=</span> cropConLeft <span class="token operator">-</span> blankWidth

        <span class="token comment">// 渲染裁剪框内图像</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderCanvasCrop</span><span class="token punctuation">(</span>sourceImg<span class="token punctuation">)</span>
        <span class="token comment">// 渲染目标图像</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderTargetImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// 缩放</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>zoom<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> moveX2 <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX <span class="token operator">-</span> zoom<span class="token punctuation">.</span>mouseDownX
        <span class="token keyword">const</span> moveY2 <span class="token operator">=</span> e<span class="token punctuation">.</span>clientY <span class="token operator">-</span> zoom<span class="token punctuation">.</span>mouseDownY
        <span class="token keyword">const</span> bigger <span class="token operator">=</span> moveX2 <span class="token operator">&gt;=</span> moveY2 <span class="token operator">?</span> moveX2 <span class="token punctuation">:</span> moveY2 <span class="token comment">// 取X或Y中的最大</span>
        <span class="token keyword">const</span> resultHeight <span class="token operator">=</span> zoom<span class="token punctuation">.</span>cropCanOffsetHeight <span class="token operator">+</span> bigger <span class="token comment">// 移动后的结果高度</span>
        <span class="token keyword">const</span> resultWidth <span class="token operator">=</span> zoom<span class="token punctuation">.</span>cropCanOffsetWidth <span class="token operator">+</span> bigger <span class="token comment">// 移动后的结果宽度</span>

        <span class="token comment">// 不允许超大</span>
        <span class="token keyword">const</span> temp1 <span class="token operator">=</span> resultHeight <span class="token operator">+</span> cropContainer<span class="token punctuation">.</span>offsetTop <span class="token comment">// 分开写的原因: 无法通过提交时自动eslint检查</span>
        <span class="token keyword">const</span> tempHeight <span class="token operator">=</span> temp1 <span class="token operator">-</span> blankHeight
        <span class="token keyword">const</span> temp2 <span class="token operator">=</span> resultWidth <span class="token operator">+</span> cropContainer<span class="token punctuation">.</span>offsetLeft
        <span class="token keyword">const</span> tempWidth <span class="token operator">=</span> temp2 <span class="token operator">-</span> blankWidth
        <span class="token keyword">if</span> <span class="token punctuation">(</span>
          tempHeight <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sourceImgHeight
          <span class="token operator">&amp;&amp;</span> tempWidth <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sourceImgWidth
          <span class="token operator">&amp;&amp;</span> resultHeight <span class="token operator">&gt;</span> <span class="token number">0</span>
          <span class="token operator">&amp;&amp;</span> resultWidth <span class="token operator">&gt;</span> <span class="token number">0</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'当鼠标在源图像范围内时'</span><span class="token punctuation">)</span>
          <span class="token comment">// 直接根据鼠标偏移量获得裁剪框的实际宽高</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>lock <span class="token operator">=</span> <span class="token boolean">false</span>
          cropCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> resultHeight
          cropCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> resultWidth
          <span class="token comment">// 记录裁剪框的宽高备用，下同</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasWidth <span class="token operator">=</span> cropCanvas<span class="token punctuation">.</span>width
          <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasHeight <span class="token operator">=</span> cropCanvas<span class="token punctuation">.</span>height
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>resultHeight <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> resultWidth <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>lock <span class="token operator">=</span> <span class="token boolean">false</span>
          cropCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">0</span>
          cropCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'当鼠标划过右边缘或下边缘时'</span><span class="token punctuation">)</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cropContainer<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> resultWidth<span class="token punctuation">)</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cropContainer<span class="token punctuation">.</span>offsetTop <span class="token operator">+</span> resultHeight<span class="token punctuation">)</span>
          <span class="token keyword">const</span> maxWidth <span class="token operator">=</span> cropContainer<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> resultWidth <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sourceImgWidth
          <span class="token keyword">const</span> maxHeight <span class="token operator">=</span> cropContainer<span class="token punctuation">.</span>offsetTop <span class="token operator">+</span> resultHeight <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sourceImgHeight
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>maxWidth <span class="token operator">||</span> maxHeight<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>lock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>lock <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>sourceImgWidth <span class="token operator">&gt;</span> sourceImgHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1: 宽&gt;高'</span><span class="token punctuation">)</span>
              cropCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> sourceImgHeight <span class="token operator">-</span> <span class="token punctuation">(</span>cropContainer<span class="token punctuation">.</span>offsetTop <span class="token operator">-</span> blankHeight<span class="token punctuation">)</span>
              cropCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> sourceImgHeight <span class="token operator">-</span> <span class="token punctuation">(</span>cropContainer<span class="token punctuation">.</span>offsetTop <span class="token operator">-</span> blankHeight<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1: 宽&lt;高'</span><span class="token punctuation">)</span>
              cropCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> sourceImgWidth <span class="token operator">-</span> <span class="token punctuation">(</span>cropContainer<span class="token punctuation">.</span>offsetLeft <span class="token operator">-</span> blankWidth<span class="token punctuation">)</span>
              cropCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> sourceImgWidth <span class="token operator">-</span> <span class="token punctuation">(</span>cropContainer<span class="token punctuation">.</span>offsetLeft <span class="token operator">-</span> blankWidth<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>maxWidth <span class="token operator">||</span> maxHeight<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>lock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>lock <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>sourceImgWidth <span class="token operator">&gt;</span> sourceImgHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2:宽&gt;高'</span><span class="token punctuation">)</span>
              cropCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> sourceImgWidth <span class="token operator">-</span> cropContainer<span class="token punctuation">.</span>offsetLeft
              cropCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> sourceImgWidth <span class="token operator">-</span> cropContainer<span class="token punctuation">.</span>offsetLeft
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2: 宽&lt;高'</span><span class="token punctuation">)</span>
              cropCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> sourceImgHeight <span class="token operator">-</span> cropContainer<span class="token punctuation">.</span>offsetTop
              cropCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> sourceImgHeight <span class="token operator">-</span> cropContainer<span class="token punctuation">.</span>offsetTop
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
          <span class="token comment">//  else</span>
          <span class="token comment">// if (cropContainer.offsetLeft + resultWidth === this.sourceImgWidth &amp;&amp; !this.lock) {</span>
          <span class="token comment">//   console.log(cropContainer.offsetLeft + resultWidth)</span>
          <span class="token comment">// }</span>

          <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasWidth <span class="token operator">=</span> cropCanvas<span class="token punctuation">.</span>width
          <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasHeight <span class="token operator">=</span> cropCanvas<span class="token punctuation">.</span>height
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderCanvasCrop</span><span class="token punctuation">(</span>sourceImg<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderTargetImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * @msg: 处理鼠标事件
     */</span>
    <span class="token function">initMove</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>crop<span class="token punctuation">.</span>cropConOffsetLeft <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>cropContainer<span class="token punctuation">.</span>offsetLeft <span class="token comment">// 记录点击时剪切框容器的左位移</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>crop<span class="token punctuation">.</span>cropConOffsetTop <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>cropContainer<span class="token punctuation">.</span>offsetTop <span class="token comment">// 记录点击时剪切框容器的上位移</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>crop<span class="token punctuation">.</span>mouseDownX <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX <span class="token comment">// 记录点击时鼠标X</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>crop<span class="token punctuation">.</span>mouseDownY <span class="token operator">=</span> e<span class="token punctuation">.</span>clientY <span class="token comment">// 记录点击时鼠标Y</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>zoom <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 防止触发缩放</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * @msg: 清除和获取blob
     */</span>
    <span class="token function">clearAndGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>zoom <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>crop <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCropImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * @msg: 处理缩放事件
     */</span>
    <span class="token function">initZoom</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>zoom<span class="token punctuation">.</span>cropCanOffsetHeight <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>cropCanvas<span class="token punctuation">.</span>offsetHeight <span class="token comment">// 记录点击时剪切框本体的高度</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>zoom<span class="token punctuation">.</span>cropCanOffsetWidth <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>cropCanvas<span class="token punctuation">.</span>offsetWidth <span class="token comment">// 记录点击时剪切框本体的宽度</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>zoom<span class="token punctuation">.</span>mouseDownX <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX <span class="token comment">// 记录点击时鼠标X</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>zoom<span class="token punctuation">.</span>mouseDownY <span class="token operator">=</span> e<span class="token punctuation">.</span>clientY <span class="token comment">// 记录点击时鼠标Y</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>crop <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 防止触发移动</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * @msg: 阻止拖拽事件
     * @return: false
     */</span>
    <span class="token function">stopDrag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * @msg: 渲染裁剪框
     */</span>
    <span class="token function">renderCanvasCrop</span><span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>cropContext<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>
        source<span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cropOffsetImgLeft<span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cropOffsetImgTop<span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasWidth<span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasHeight<span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasWidth<span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasHeight
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * @msg: 渲染裁剪后的图像
     */</span>
    <span class="token function">renderTargetImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 计算实际要裁剪的数据</span>
      <span class="token keyword">const</span> left <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cropOffsetImgLeft <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sourceImgWidth<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>imageObj<span class="token punctuation">.</span>width
      <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgLeft <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span>
      <span class="token keyword">const</span> top <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cropOffsetImgTop <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sourceImgHeight<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>imageObj<span class="token punctuation">.</span>height
      <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgTop <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>top<span class="token punctuation">)</span>
      <span class="token keyword">const</span> height <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cropCanvasHeight <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sourceImgHeight<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>imageObj<span class="token punctuation">.</span>height
      <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgHeigth <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgWidth <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgHeigth <span class="token comment">// 1:1比例</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span>targetImg<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgWidth <span class="token comment">// 设置目标canvas的宽</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>targetImg<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgHeigth <span class="token comment">// 设置目标canvas的高</span>
      <span class="token comment">// 写入图像</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>targetImg
        <span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>imageObj<span class="token punctuation">,</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgLeft<span class="token punctuation">,</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgTop<span class="token punctuation">,</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgWidth<span class="token punctuation">,</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgHeigth<span class="token punctuation">,</span>
          <span class="token number">0</span><span class="token punctuation">,</span>
          <span class="token number">0</span><span class="token punctuation">,</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgWidth<span class="token punctuation">,</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>targetImgHeigth
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * @msg: 转换image数据为blob并导出
     */</span>
    <span class="token function">getCropImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>targetImg<span class="token punctuation">.</span><span class="token function">toBlob</span><span class="token punctuation">(</span>
        <span class="token parameter">blob</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCropImgBlob</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'image/jpeg'</span><span class="token punctuation">,</span>
        <span class="token number">0.5</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 清楚监听器</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseup'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>clearAndGet<span class="token punctuation">)</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>moveZoomCrop<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token comment">// }</span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">&lt;style scoped lang=&quot;scss&quot;&gt;
.component-container</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #000000<span class="token selector">;
  .canvas-img-preview</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.5<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.crop-container</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token selector">;
    .zoom-button</span> <span class="token punctuation">{</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
      <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">bottom</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> nw-resize<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.crop-canvas</span> <span class="token punctuation">{</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> move<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/2/2021, 1:24:26 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/Notebook/dailyRecord/2018.html">
          2018
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Notebook/assets/js/app.fae3116e.js" defer></script><script src="/Notebook/assets/js/3.8a90166b.js" defer></script><script src="/Notebook/assets/js/13.6db71019.js" defer></script>
  </body>
</html>
